window.__require=function e(t,n,o){function i(r,s){if(!n[r]){if(!t[r]){var c=r.split("/");if(c=c[c.length-1],!t[c]){var l="function"==typeof __require&&__require;if(!s&&l)return l(c,!0);if(a)return a(c,!0);throw new Error("Cannot find module '"+r+"'")}r=c}var p=n[r]={exports:{}};t[r][0].call(p.exports,function(e){return i(t[r][1][e]||e)},p,p.exports,e,t,n,o)}return n[r].exports}for(var a="function"==typeof __require&&__require,r=0;r<o.length;r++)i(o[r]);return i}({Adaptive111000901:[function(e,t,n){"use strict";cc._RF.push(t,"6290bzMDGBJ9Y5twKF04vq7","Adaptive111000901");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../GameEventName111000901"),s=cc._decorator,c=s.ccclass,l=s.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sc1=null,t.cs2=null,t.cz=null,t.logo=null,t.bg_di=null,t}return i(t,e),t.prototype.onLoad=function(){game.EventManager.getInstance().raiseEvent(core.GameCoreConst.mess_openBanner,{parent:this.node.getChildByName("banner")}),game.EventManager.getInstance().addEventListener(r.EventName.EVENT_WIN_GAME,this.showChuanzhangAni,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_WIN_MORE_THAN_BET,this.playAni,this),e.prototype.resize.call(this)},t.prototype.layoutLandscape=function(){this.sc1.active=!1,this.cs2.active=!1,this.cz.active=!1,this.bg_di.active=!1,this.logo.scale=1,this.logo.setPosition(0,445,0)},t.prototype.layoutPortrait=function(){this.sc1.active=!0,this.cs2.active=!0,this.cz.active=!0,this.bg_di.active=!0,this.cz.scale=2.2,this.logo.scale=1.2,this.logo.setPosition(0,460,0)},t.prototype.showChuanzhangAni=function(e,t){var n=this;t==r.WinType.fiveEven&&(this.playAni(),this.playSound());var o="idle01";switch(t){case r.WinType.SuperWin:case r.WinType.MargeWin:case r.WinType.BigWin:case r.WinType.win:o="idle02"}"idle01"!=o&&(this.cz.getComponent(sp.Skeleton).setAnimation(0,o,!1),this.cz.getComponent(sp.Skeleton).setCompleteListener(function(){n.cz.getComponent(sp.Skeleton).setCompleteListener(null),n.cz.getComponent(sp.Skeleton).setAnimation(0,"idle01",!0)}))},t.prototype.playAni=function(){slot.SoundMger.instance.playEffect("winPrize")},t.prototype.playSound=function(){slot.SoundMger.instance.playEffect("Five_Prize"),console.log("\u64ad\u653e\u4e86\u4e94\u8fde\u97f3\u6548")},t.prototype.onDestroy=function(){game.EventManager.getInstance().removeEventListener(r.EventName.EVENT_WIN_GAME,this.showChuanzhangAni,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_WIN_MORE_THAN_BET,this.playAni,this)},a([l(cc.Node)],t.prototype,"sc1",void 0),a([l(cc.Node)],t.prototype,"cs2",void 0),a([l(cc.Node)],t.prototype,"cz",void 0),a([l(cc.Node)],t.prototype,"logo",void 0),a([l(cc.Node)],t.prototype,"bg_di",void 0),a([c],t)}(slot.BaseView);n.default=p,cc._RF.pop()},{"../GameEventName111000901":"GameEventName111000901"}],Banner111000901:[function(e,t,n){"use strict";cc._RF.push(t,"1a837zDyN9NBqgDZ5NzIzU9","Banner111000901");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("./GameEventName111000901"),s=cc._decorator,c=s.ccclass,l=s.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.p_nodeBanner=null,t.m_isfreeGame=!1,t}return i(t,e),t.prototype.setNodeBanner=function(e){this.p_nodeBanner.active=e&&!this.m_isfreeGame},t.prototype.onLoad=function(){var t=this;e.prototype.onLoad.call(this),game.EventManager.getInstance().addEventListener(r.EventName.EVENT_STOP_WIN_NUM,function(){t.setNodeBanner(!0)},this),game.EventManager.getInstance().addEventListener(r.EventName.EVENT_PLAY_WIN_NUM_BEGIN,function(){t.setNodeBanner(!1)},this),game.EventManager.getInstance().addEventListener(r.EventName.FREE_GAME_START,this._freeGameStart,this),game.EventManager.getInstance().addEventListener(r.EventName.FREE_GAME_OVER,this._freeGameOver,this)},t.prototype._freeGameStart=function(){this.m_isfreeGame=!0},t.prototype._freeGameOver=function(){this.m_isfreeGame=!1},t.prototype.onDestroy=function(){var t=this;e.prototype.onDestroy.call(this),game.EventManager.getInstance().removeEventListener(r.EventName.EVENT_STOP_WIN_NUM,function(){t.setNodeBanner(!0)},this),game.EventManager.getInstance().removeEventListener(r.EventName.EVENT_PLAY_WIN_NUM_BEGIN,function(){t.setNodeBanner(!1)},this),game.EventManager.getInstance().removeEventListener(r.EventName.FREE_GAME_START,this._freeGameStart,this),game.EventManager.getInstance().removeEventListener(r.EventName.FREE_GAME_OVER,this._freeGameOver,this)},a([l(cc.Node)],t.prototype,"p_nodeBanner",void 0),a([c],t)}(slot.SlotBanner);n.default=p,cc._RF.pop()},{"./GameEventName111000901":"GameEventName111000901"}],BonusGame111000901:[function(e,t,n){"use strict";cc._RF.push(t,"b43dfAaZ+dLpaKBQ+Afd607","BonusGame111000901");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../GameEventName111000901"),s=e("../main/CommonNumAtlas111000901"),c=e("../tool/bulletChatManager"),l=e("../tool/Tool"),p=cc._decorator,u=p.ccclass,h=p.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.p_nodeTime=null,t.p_nodePb=null,t.callBack=null,t.m_time=0,t.m_isPlay=!0,t.m_isClose=!1,t.bl_button=null,t.doublePoint=null,t.effct=null,t.freeLabel=null,t.FreeBulletChatConfig=null,t.cb=null,t.time=0,t.score=null,t.bonusGameBg=null,t.nodeid=0,t.numTime=0,t}return i(t,e),t.prototype.onLoad=function(){game.EventManager.getInstance().addEventListener(slot.NetSlotConst.LGACTIONRESP,this.LGACTIONRESP,this);var e=slot.MainView.instance.node.getChildByName("scorePrefab");this.bonusGameBg=this.node.getChildByName("bonusGameBg"),this.score=cc.instantiate(e),this.node.addChild(this.score,99),this.score.opacity=255,this.score.active=!0,this.bl_button.opacity=0,this.score.setPosition(cc.v2(0,-650))},t.prototype.start=function(){this.brandAnimation(),this.loadLableAni(),slot.SoundMger.instance.playEffect(r.SOUND_NAME.Free_Start_Appear,!1),c.default.addBulletChat(3,this.node.getChildByName("bulletChatLayer"),this.FreeBulletChatConfig)},t.prototype.buttonAnimation=function(){this.bl_button.opacity=255;var e=cc.scaleTo(.3,1.2),t=cc.scaleTo(.1,.9),n=cc.scaleTo(.1,1),o=1,i=cc.callFunc(function(){var e=this;this.bl_button&&(this.bl_button.on(cc.Node.EventType.MOUSE_ENTER,function(){e._onMouseEnterBrideNode()},this),this.bl_button.on(cc.Node.EventType.MOUSE_LEAVE,function(){e._onMouseLeaveBrideNode()},this),this.bl_button.attr({chooseId:o}),o++)}.bind(this));this.bl_button.runAction(cc.sequence(e,t,n,i))},t.prototype.brandAnimation=function(){var e=cc.fadeIn(1);this.bonusGameBg.runAction(e)},t.prototype.loadLableAni=function(){for(var e=["0%","16%","32%","50%","66%","80%","100%",""],t=function(t){var o=cc.delayTime(.3*t),i=cc.callFunc(function(){this.p_nodeTime.getComponent(s.default).string=e[t],t==e.length-1&&(this.p_nodeTime.opacity=0,this.buttonAnimation())}.bind(n));n.node.runAction(cc.sequence(o,i))},n=this,o=0;o<e.length;o++)t(o)},t.prototype.LGACTIONRESP=function(){var e=this;cc.tween(this).delay(.5).call(function(){e.next()}).start()},t.prototype.init=function(){this.node.opacity=255,this.p_nodeTime.opacity=255,this.bonusGameBg.opacity=0,this.m_isPlay=!0,this._playLoopLight(),this._playBonusSelection(),this.m_isClose=!1,l.default.respData.nextState&&(this.freeLabel.string=String(l.default.respData.nextState.freeData.times)),this.freeLabel.string=this.m_time.toString()},t.prototype.onOpen=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.callBack=t[0][0],this.cb=t[0][1],this.m_time=t[0][2],this.init()},t.prototype._onMouseEnterBrideNode=function(){this.effct.stopAllActions(),this.effct.opacity=0;var e=cc.fadeIn(.8),t=cc.fadeOut(.8),n=cc.repeatForever(cc.sequence(e,t));this.effct.runAction(n)},t.prototype._onMouseLeaveBrideNode=function(){this.effct.stopAllActions(),this.effct.opacity=0},t.prototype._playLoopLight=function(){this.playLight(0)},t.prototype.playLight=function(){},t.prototype._playBonusSelection=function(){},t.prototype.onClickBrideNode=function(){slot.SoundMger.instance.playEffect(r.SOUND_NAME.Fs_Start,!1),game.EventManager.getInstance().raiseEvent(r.mouseEvent.FREE_GAME_CLOSE);var e=cc.scaleTo(.2,.9),t=cc.scaleTo(.2,1),n=cc.callFunc(function(){console.log("ywb\u6d41\u7a0b\u5f00\u59cb"),this.cb.run(),this.node.destroy()}.bind(this)),o=cc.sequence(e,t,n);this.bl_button.runAction(o)},t.prototype.onActionResult=function(){console.log("\u8fd4\u56de ------------------- ")},t.prototype.onDestroy=function(){e.prototype.onDestroy.call(this),game.EventManager.getInstance().removeEventListener(slot.NetSlotConst.LGACTIONRESP,this.LGACTIONRESP,this)},t.prototype.getLastActionResult=function(){return this.onActionResult(),null},t.prototype.onClose=function(){},t.prototype.update=function(e){0==this.m_isClose&&(this.numTime<=1&&(this.numTime+=e),this.numTime>=1&&this.m_time>=0&&(this.numTime=0,this.m_time>=0&&(this._updateTime(this.m_time),0==this.m_time&&this.randSetGame()),this.m_time-=1))},t.prototype.randSetGame=function(){Math.ceil(3*Math.random()),this._onMouseEnterBrideNode(),this.p_nodePb.active=!0,this.onClickBrideNode()},t.prototype._updateTime=function(){},a([h(cc.Node)],t.prototype,"p_nodeTime",void 0),a([h(cc.Node)],t.prototype,"p_nodePb",void 0),a([h(cc.Node)],t.prototype,"bl_button",void 0),a([h(cc.Node)],t.prototype,"doublePoint",void 0),a([h(cc.Node)],t.prototype,"effct",void 0),a([h(s.default)],t.prototype,"freeLabel",void 0),a([h(cc.JsonAsset)],t.prototype,"FreeBulletChatConfig",void 0),a([u],t)}(slot.AbstractBonusGameView);n.default=d,cc._RF.pop()},{"../GameEventName111000901":"GameEventName111000901","../main/CommonNumAtlas111000901":"CommonNumAtlas111000901","../tool/Tool":"Tool","../tool/bulletChatManager":"bulletChatManager"}],Cannon:[function(e,t,n){"use strict";cc._RF.push(t,"b8e22cy9mZJGLnGTzwLNW/t","Cannon");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.p_nodeNumAn=null,t.p_nodeNumLiang=null,t.p_nodeLiang=null,t.p_nodeSprShanGuang=null,t.p_nodeFxAni=null,t.p_nodeUpShow=[],t.p_strFxAniName="",t.m_anCommonNumAtlas=null,t.m_liangCommonNumAtlas=null,t.m_isLiang=!1,t}return i(t,e),t.prototype.onLoad=function(){this.m_anCommonNumAtlas=this.p_nodeNumAn.getComponent("CommonNumAtlas111000901"),this.m_liangCommonNumAtlas=this.p_nodeNumLiang.getComponent("CommonNumAtlas111000901")},t.prototype.init=function(){this.p_nodeNumAn.active=!0,this.p_nodeNumLiang.active=!1,this.p_nodeSprShanGuang.active=!1,this.m_anCommonNumAtlas.string="",this.m_liangCommonNumAtlas.string="",this.node.scale=1},t.prototype.setOnline=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1),t?(this.p_nodeLiang.active=e,this.node.scale=e?1.1:1):this.playAction(e,n)},t.prototype.setArrCannonUp=function(e){for(var t=function(t){var o=n.p_nodeUpShow[t];o.active=e,e?(o.active=!0,o.opacity=0,cc.tween(o).to(.3,{opacity:255}).start()):(o.opacity=255,cc.tween(o).to(.3,{opacity:0}).call(function(){o.opacity=255,o.active=!1}).start())},n=this,o=0;o<this.p_nodeUpShow.length;o++)t(o)},t.prototype.playCannonUp=function(e){var t=this;this.setCommonNum(e),1==this.p_nodeLiang.active?cc.tween(this.node).to(.2,{scale:1.2}).call(function(){cc.tween(t.node).to(.2,{scale:1.1}).call(function(){t.setArrCannonUp(!1)}).start()}).start():(this.p_nodeLiang.active=!0,cc.tween(this.node).to(.3,{scale:1.2}).call(function(){cc.tween(t.node).to(.3,{scale:1}).call(function(){t.setArrCannonUp(!1)}).start()}).start(),cc.tween(this.p_nodeLiang).delay(.3).to(1,{opacity:0}).call(function(){t.p_nodeLiang.opacity=255,t.p_nodeLiang.active=!1}).start())},t.prototype.playAction=function(e,t){var n=this;void 0===t&&(t=!1),1==e?(1==this.m_isLiang&&1==t?this._playUpAni():0==this.m_isLiang&&1==t?cc.tween(this).delay(.5).call(function(){n.p_nodeLiang.active=!0,n.playLight()}).start():(this.p_nodeLiang.active=!0,this.playLight()),this.m_isLiang=!0):this.playDark(t)},t.prototype.playLight=function(){var e=this;this.p_nodeSprShanGuang.active=!0,this.p_nodeSprShanGuang.scale=.5,cc.tween(this.p_nodeSprShanGuang).to(.3,{scale:.8}).call(function(){e.p_nodeSprShanGuang.active=!1}).start();var t=cc.sequence(cc.scaleTo(.5,1.2,1.2),cc.callFunc(function(){e.p_nodeNumAn.active=!1,e.p_nodeLiang.active=!0}),cc.scaleTo(.1,1.1,1.1));this.node.runAction(t)},t.prototype._playUpAni=function(e){var t=this;this.p_nodeFxAni.active=!0,this.p_nodeFxAni.getComponent(sp.Skeleton).setAnimation(0,this.p_strFxAniName,!1),this.p_nodeFxAni.getComponent(sp.Skeleton).setCompleteListener(function(){t.p_nodeFxAni.active=!1,e&&e(),cc.tween(t.node).to(.2,{scale:1}).start()})},t.prototype.playDark=function(e){var t=this;e&&this.p_strFxAniName.length>0&&1==this.m_isLiang?this._playUpAni(function(){t.p_nodeNumAn.active=!0,t.p_nodeLiang.active=!1}):(this.p_nodeNumAn.active=!0,this.p_nodeLiang.active=!1,cc.tween(this.node).to(.2,{scale:1}).start()),this.m_isLiang=!1},t.prototype.setCommonNum=function(){},t.prototype.start=function(){},a([c(cc.Node)],t.prototype,"p_nodeNumAn",void 0),a([c(cc.Node)],t.prototype,"p_nodeNumLiang",void 0),a([c(cc.Node)],t.prototype,"p_nodeLiang",void 0),a([c(cc.Node)],t.prototype,"p_nodeSprShanGuang",void 0),a([c(cc.Node)],t.prototype,"p_nodeFxAni",void 0),a([c({type:[cc.Node]})],t.prototype,"p_nodeUpShow",void 0),a([c(cc.String)],t.prototype,"p_strFxAniName",void 0),a([s],t)}(cc.Component);n.default=l,cc._RF.pop()},{}],CommonNumAtlas111000901:[function(e,t,n){"use strict";cc._RF.push(t,"4b4eeau0QVJ0qVL2hHp+KpY","CommonNumAtlas111000901");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){},a([s],t)}(slot.CommonNumAtlasBase));n.default=c,cc._RF.pop()},{}],FreeGameResult:[function(e,t,n){"use strict";cc._RF.push(t,"d6e6cadh2pDRrrh49UHplWd","FreeGameResult");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../GameEventName111000901"),s=e("../main/CommonNumAtlas111000901"),c=e("../main/Main111000901"),l=e("../tool/bulletChatManager"),p=e("../tool/Tool"),u=cc._decorator,h=u.ccclass,d=u.property,_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.p_nodeSecond=null,t.p_nodeMoney=null,t.p_btnDraw=null,t.p_nodeNum=null,t.FreeBulletChatConfig=null,t.effect=null,t.m_isUpdate=!1,t.callBack=null,t.m_sumSpinCoin=0,t.m_sumTimes=0,t.goldBg=null,t.mouseBg=null,t.freeGameEndLight=null,t.freeGameEndPlist=null,t.m_money=1e3,t.m_speed=3,t.m_time=0,t}return i(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){var e=this;this.p_btnDraw.node.on(cc.Node.EventType.MOUSE_ENTER,function(){e._onMouseEnterBrideNode()},this),l.default.addBulletChat(3,this.node.getChildByName("bulletChatLayer"),this.FreeBulletChatConfig)},t.prototype._onMouseEnterBrideNode=function(){this.effect.stopAllActions(),this.effect.opacity=0;var e=cc.fadeIn(.8),t=cc.fadeOut(.8),n=cc.repeatForever(cc.sequence(e,t));this.effect.runAction(n)},t.prototype._onMouseLeaveBrideNode=function(){this.effect.stopAllActions(),this.effect.opacity=255},t.prototype.sprBgAnimation=function(){},t.prototype.onOpen=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.init();var o=t[0];this.callBack=o[0],this.m_sumSpinCoin=Number(o[1]),this.m_sumTimes=o[2],this._setLabSecond(this.m_sumTimes),this._playLabMoney(),slot.SoundMger.instance.playEffect(r.SOUND_NAME.Free_Game_Settlement,!0),this.lightAniCtrl("animation_back"),this.sprBgAnimation();var i=cc.delayTime(.5),a=cc.callFunc(function(){this.goldBgAnimation(),this.mouseBgAnimation(),this.plistAniCtrl("animation_front")}.bind(this));this.node.runAction(cc.sequence(i,a)),cc.tween(this.p_nodeNum).to(.5,{y:-62,scale:1,opacity:255}).start()},t.prototype.init=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.effect.stopAllActions(),p.default.isInFreeGameResult=!0,this.effect.scale=0,this.p_btnDraw.node.active=!1,this.p_btnDraw.node.scale=1,this.m_isUpdate=!1,this.p_nodeNum.opacity=0,this.p_nodeNum.scale=.5,this.p_nodeNum.x=0,this.p_nodeNum.y=-62,this.m_time=0},t.prototype.onClose=function(){game.EventManager.getInstance().raiseEvent(r.EventName.EVENT_PLAY_WIN_NUM_BEGIN,0,this.m_sumSpinCoin,1,1),slot.SpinManager.instance.totalWin=this.m_sumSpinCoin,slot.FreeGameManager.instance.hasFreeGame,slot.SoundMger.instance.playMusic(slot.SOUND_NAME.Game_Back_Music)},t.prototype.goldBgAnimation=function(){var e=cc.moveBy(.3,cc.v2(0,350)),t=cc.moveBy(.1,cc.v2(0,-60)),n=cc.moveBy(.1,cc.v2(0,30)),o=cc.callFunc(function(){}.bind(this));this.goldBg.runAction(cc.sequence(e,t,n,o))},t.prototype.mouseBgAnimation=function(){var e=cc.scaleTo(.3,1,1.2),t=cc.scaleTo(.1,1,.9),n=cc.scaleTo(.1,1),o=cc.callFunc(function(){}.bind(this));this.mouseBg.runAction(cc.sequence(e,t,n,o))},t.prototype.lightAniCtrl=function(e){this.freeGameEndLight.getComponent(sp.Skeleton).setAnimation(0,e,!1)},t.prototype.plistAniCtrl=function(){},t.prototype.onClickBtnDraw=function(){console.log("ywb\u6309\u94ae\u6309\u4e0b\u6765\u4e86"),slot.SoundMger.instance.stopEffect(r.SOUND_NAME.Free_Game_Settlement_End),p.default.isInFreeGameResult=!1,slot.SoundMger.instance.playEffect(r.SOUND_NAME.Fs_End,!1),game.UIManager.getInstance().closeByUIID(c.UIID.FREE_GAME_RESULT),this.callBack&&this.callBack.run()},t.prototype._playLabMoney=function(){this._setLabMoney(0),this.m_isUpdate=!0,this.m_money=0,this.m_speed=Math.ceil(this.m_sumSpinCoin/300)},t.prototype._setLabSecond=function(){},t.prototype._setLabMoney=function(e){this.p_nodeMoney.getComponent(s.default).string=slot.SlotUtils.formatNumber(e,2)},t.prototype._playBtnDraw=function(){var e=this;slot.SoundMger.instance.stopEffect(r.SOUND_NAME.Free_Game_Settlement),slot.SoundMger.instance.playEffect(r.SOUND_NAME.Free_Game_Settlement_End),this.p_btnDraw.node.active=!0,this.p_btnDraw.node.scale=.3,cc.tween(this.p_btnDraw.node).to(.2,{scale:1.2}).start(),cc.tween(this).delay(.2).call(function(){cc.tween(e.p_btnDraw.node).to(.1,{scale:1}).start()}).start()},t.prototype.onQuickOver=function(){this.node.getComponent(cc.Button).interactable=!1,this.m_money=this.m_sumSpinCoin,this._setLabMoney(this.m_sumSpinCoin),this.m_isUpdate=!1,this._playBtnDraw()},t.prototype.update=function(e){this.m_isUpdate&&(this.m_money<this.m_sumSpinCoin?(this.m_money+=this.m_speed,this._setLabMoney(this.m_money)):this.m_money>=this.m_sumSpinCoin&&(this.m_isUpdate=!1,this.m_money+=this.m_speed,this._setLabMoney(this.m_sumSpinCoin),this._playBtnDraw())),1==this.p_btnDraw.node.active&&(this.m_time+=e,this.m_time>=5&&this.onClickBtnDraw())},a([d(cc.Node)],t.prototype,"p_nodeSecond",void 0),a([d(cc.Node)],t.prototype,"p_nodeMoney",void 0),a([d(cc.Button)],t.prototype,"p_btnDraw",void 0),a([d(cc.Node)],t.prototype,"p_nodeNum",void 0),a([d(cc.JsonAsset)],t.prototype,"FreeBulletChatConfig",void 0),a([d(cc.Node)],t.prototype,"effect",void 0),a([d(cc.Node)],t.prototype,"goldBg",void 0),a([d(cc.Node)],t.prototype,"mouseBg",void 0),a([d(cc.Node)],t.prototype,"freeGameEndLight",void 0),a([d(cc.Node)],t.prototype,"freeGameEndPlist",void 0),a([h],t)}(game.UIView);n.default=_,cc._RF.pop()},{"../GameEventName111000901":"GameEventName111000901","../main/CommonNumAtlas111000901":"CommonNumAtlas111000901","../main/Main111000901":"Main111000901","../tool/Tool":"Tool","../tool/bulletChatManager":"bulletChatManager"}],GameBg111000901:[function(e,t,n){"use strict";cc._RF.push(t,"597fcE2jUVAnZlW9rkQGMfA","GameBg111000901");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../GameEventName111000901"),s=e("../main/CommonNumAtlas111000901"),c=cc._decorator,l=c.ccclass,p=c.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.p_nodeFree=null,t.p_nodeBg2=null,t.p_nodeFreeGameNum=null,t.p_nodeShadow=null,t.p_nodeSprRemain=null,t.p_nodeLfs=null,t}return i(t,e),t.prototype.onLoad=function(){game.EventManager.getInstance().addEventListener(r.EventName.FREE_GAME_START,this._onFreeGameStart,this),game.EventManager.getInstance().addEventListener(r.EventName.FREE_GAME_OVER,this._onFreeGameOver,this),game.EventManager.getInstance().addEventListener(r.EventName.EVENT_FREE_GAME_NUM,this._updateFreeGameNum,this),game.EventManager.getInstance().addEventListener(r.EventName.EVENT_ADD_FREE_GAME_NUM,this._addFreeGameNum,this),this.initLayer(),this.scheduleOnce(function(){},1)},t.prototype.initLayer=function(){this.p_nodeBg2.removeFromParent(),slot.EntranceView.instance.addNode(this.p_nodeBg2,slot.LayerManage.menu)},t.prototype._onFreeGameStart=function(e,t){slot.MainView.instance.node.getChildByName("gameControPrefab").opacity=0,console.log(slot.MainView.instance.node.getChildByName("gameControPrefab")),this.p_nodeBg2.active=this.p_nodeFree.active=!0,this.p_nodeShadow.active=!1,null!=t&&this._updateFreeGameNum("",t)},t.prototype._onFreeGameOver=function(){slot.MainView.instance.node.getChildByName("gameControPrefab").opacity=255,game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_GAMECONTROL_ALL_BTN_CLICK,!0),this.p_nodeBg2.active=this.p_nodeFree.active=!1,this.p_nodeShadow.active=!0},t.prototype._updateFreeGameNum=function(e,t){var n=t<=0;this.p_nodeSprRemain.active=!n,this.p_nodeLfs.active=n,this.p_nodeFreeGameNum.getComponent(s.default).string=""+t},t.prototype._addFreeGameNum=function(e,t,n){var o=this,i=Number(this.p_nodeFreeGameNum.getComponent(s.default).string),a=i+t,r=cc.sequence(cc.delayTime(.3),cc.callFunc(function(){++i>=a?(o.p_nodeFreeGameNum.getComponent(s.default).string=i.toString(),n.run()):o.p_nodeFreeGameNum.getComponent(s.default).string=i.toString()}));this.node.runAction(cc.repeat(r,t))},t.prototype.onDestroy=function(){game.EventManager.getInstance().removeEventListener(r.EventName.FREE_GAME_START,this._onFreeGameStart,this),game.EventManager.getInstance().removeEventListener(r.EventName.FREE_GAME_OVER,this._onFreeGameOver,this),game.EventManager.getInstance().removeEventListener(r.EventName.EVENT_FREE_GAME_NUM,this._updateFreeGameNum,this),game.EventManager.getInstance().removeEventListener(r.EventName.EVENT_ADD_FREE_GAME_NUM,this._addFreeGameNum,this)},a([p(cc.Node)],t.prototype,"p_nodeFree",void 0),a([p(cc.Node)],t.prototype,"p_nodeBg2",void 0),a([p(cc.Node)],t.prototype,"p_nodeFreeGameNum",void 0),a([p(cc.Node)],t.prototype,"p_nodeShadow",void 0),a([p(cc.Node)],t.prototype,"p_nodeSprRemain",void 0),a([p(cc.Node)],t.prototype,"p_nodeLfs",void 0),a([l],t)}(slot.BaseView);n.default=u,cc._RF.pop()},{"../GameEventName111000901":"GameEventName111000901","../main/CommonNumAtlas111000901":"CommonNumAtlas111000901"}],GameEventName111000901:[function(e,t,n){"use strict";cc._RF.push(t,"ca65fGvksNAQrdlFI+FdLPW","GameEventName111000901"),Object.defineProperty(n,"__esModule",{value:!0}),n.mouseEvent=n.SOUND_NAME=n.RoleAniType=n.WinType=n.EventName=void 0,function(e){e.EVENT_WIN_GAME="EVENT_WIN_GAME",e.EVENT_UPDATE_MULTIPLE="EVENT_UPDATE_MULTIPLE",e.EVENT_UPDATE_MULTIPLE_NUM="EVENT_UPDATE_MULTIPLE_NUM",e.EVENT_CONTINUE_REWARD="EVENT_CONTINUE_REWARD",e.EVENT_CONTINUE_REWARD_END="EVENT_CONTINUE_REWARD_END",e.FREE_GAME_START="FREE_GAME_START",e.FREE_GAME_OVER="FREE_GAME_OVER",e.EVENT_FREE_GAME_NUM="EVENT_FREE_GAME_NUM",e.EVENT_ADD_FREE_GAME_NUM="EVENT_ADD_FREE_GAME_NUM",e.EVENT_PLAY_WIN_NUM_BEGIN="EVENT_PLAY_WIN_NUM_BEGIN",e.EVENT_STOP_WIN_NUM="EVENT_STOP_WIN_NUM",e.EVENT_PLAY_ROLE_ANI="EVENT_PLAY_ROLE_ANI",e.EVENT_PLAY_SCORE_ANI="EVENT_PLAY_SCORE_ANI"}(n.EventName||(n.EventName={})),function(e){e.SuperWin="SuperWin",e.MargeWin="MargeWin",e.BigWin="BigWin",e.Lose="Lose",e.win="win",e.fiveEven="fiveEven",e.wild="wild"}(n.WinType||(n.WinType={})),function(e){e[e.Random=1]="Random",e[e.Multiplier=2]="Multiplier",e[e.WinMedium=3]="WinMedium",e[e.WinSmall=4]="WinSmall",e[e.FastSpinIdle=5]="FastSpinIdle"}(n.RoleAniType||(n.RoleAniType={})),function(e){e.FreeGame_Back_Music="FreeGame_Back_Music",e.Free_Game_Settlement="Free_Game_Settlement",e.Free_Game_Settlement_End="Free_Game_Settlement_End",e.Scatter_Expectation_End="Scatter_Expectation_End",e.Scatter_Expectation_Beat="Scatter_Expectation_Beat",e.Scatter_Expectation_Wait="Scatter_Expectation_Wait",e.Scatter_Expectation_Drop="Scatter_Expectation_Drop",e.Scatter_Expectation="Scatter_Expectation",e.Fs_Trigger="Fs_Trigger",e.Fs_Enter="Fs_Enter",e.Fs_Enter_Light="Fs_Enter_Light",e.Fs_Mtp_Show="Fs_Mtp_Show",e.Wild_Shake="Wild_Shake",e.Wild_Mtp_Move="Wild_Mtp_Move",e.Fs_Wild_Mtp_Move="Fs_Wild_Mtp_Move",e.Mtp_Sum="Mtp_Sum",e.Mtp_Sum_Fs="Mtp_Sum_Fs",e.Wild_Win="Wild_Win",e.Scatter="Scatter",e.Textbox_Total="Textbox_Total",e.Free_Start_Appear="Free_Start_Appear",e.Free_Add_Sym="Free_Add_Sym",e.Free_Add="Free_Add",e.Role_Move="Role_Move",e.Role_Win_Move="Role_Win_Move",e.Mtp_Effect="Mtp_Effect",e.Mtp_Appear="Mtp_Appear",e.Symbol_Prize="Symbol_Prize",e.Textbox_01="Textbox_01",e.Textbox_Coin="Textbox_Coin",e.Textbox_02="Textbox_02",e.Fs_Mg_Prize="Fs_Mg_Prize",e.Reel_Stop="Reel_Stop",e.Reel_Stop_Quick="Reel_Stop_Quick",e.Fs_Start="Fs_Start",e.Fs_End="Fs_End",e.Prize_Big="Prize_Big",e.Prize_Big_End="Prize_Big_End",e.Symbol_Explode="Symbol_Explode",e.Symbol_Explode_Drop="Symbol_Explode_Drop",e.Reel_Click="Reel_Click"}(n.SOUND_NAME||(n.SOUND_NAME={})),function(e){e.GET_REWARD_AND_POP_TIME="GET_REWARD_AND_POP_TIME",e.GET_REWARD_BOARD_CALL="GET_REWARD_BOARD_CALL",e.GET_REWARD_BEFOR="GET_REWARD_BEFOR",e.INIT_TO_FREE_GAME="INIT_TO_FREE_GAME",e.FREE_GAME_CLOSE="FREE_GAME_CLOSE",e.INIT_MOUSE_MOVE_POS="INIT_MOUSE_MOVE_POS",e.INIT_MOUSE_MOVE_POS_REWARD="INIT_MOUSE_MOVE_POS_REWARD",e.MOUSE_MOVE_POS="MOUSE_MOVE_POS",e.CLEAR_MOUSE_MOVE="CLEAR_MOUSE_MOVE",e.SEVER_DATA_INIT="SEVER_DATA_INIT",e.ANIMATION_STOP_CALL_BACK="ANIMATION_STOP_CALL_BACK",e.NORMAL_RECONNECTION_DATA="NORMAL_RECONNECTION_DATA",e.FREE_RECONNECTION_DATA="FREE_RECONNECTION_DATA",e.ROLL_ANI_START="ROLL_ANI_START",e.ROLL_ANI_START_WHO="ROLL_ANI_START_WHO",e.ROLL_ANI_END="ROLL_ANI_END",e.FREE_GAME_ADD_TIME="FREE_GAME_ADD_TIME",e.ROLL_END_CALL_BACK="ROLL_END_CALL_BACK",e.MOUSE_MOVE_END="MOUSE_MOVE_END",e.MOUSE_BIG_MOVE_END="MOUSE_BIG_MOVE_END",e.OPACITY_END="OPACITY_END",e.GET_RAWARD_FOOD="GET_RAWARD_FOOD",e.GET_REWARD_BEGAN="GET_REWARD_BEGAN",e.GET_FREE_REWARD_BEGAN_MOUSE_BG="GET_FREE_REWARD_BEGAN_MOUSE_BG",e.PLAY_BURST_ANI_BEGAN="PLAY_BURST_ANI_BEGAN",e.PLAY_ROLL_ANI_BEGAN="PLAY_ROLL_ANI_BEGAN",e.PLAY_ROLL_ANI_END="PLAY_ROLL_ANI_END",e.TOP_ANI_START="TOP_ANI_START",e.TOP_ANI_END="TOP_ANI_END",e.ROLL_END_STEP_TASK="ROLL_END_STEP_TASK",e.NOT_HAVE_MONY_OPEN_ROLL="NOT_HAVE_MONY_OPEN_ROLL",e.ROLL_PLAY="ROLL_PLAY",e.RIDE_ANI_IN_TARGET="RIDE_ANI_IN_TARGET",e.ROLL_REWARD_END="ROLL_REWARD_END"}(n.mouseEvent||(n.mouseEvent={})),cc._RF.pop()},{}],GameLayer111000901:[function(e,t,n){"use strict";cc._RF.push(t,"03dfd0k2WFPcJVsFSNgFaM+","GameLayer111000901");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../bonusGame/BonusGame111000901"),s=e("../freeGameResult/FreeGameResult"),c=e("../GameEventName111000901"),l=e("../main/CommonNumAtlas111000901"),p=e("../main/Main111000901"),u=e("../tool/bulletChatManager"),h=e("../tool/poolManager"),d=e("../tool/Tool"),_=e("./GameRoller111000901"),m=e("./scrollerSkins/JTChildManager111000901"),f=e("./scrollerSkins/JTLayerManager111000901"),E=e("./scrollerSkins/JTLogicFactroy111000901"),g=cc._decorator,v=g.ccclass,y=g.property,N=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.roller=null,t.rollMarsk=null,t.rollPushMarsk=null,t.ordinaryGameNode=null,t.freeGameNode=null,t.bulletChatLayar=null,t.rollAllAniTop=null,t.blueMarsk=null,t.topAniMarsk=null,t.winAniStopAni=null,t.rideIcon=null,t.NorlmalBulletChatConfig=null,t.BigWinBulletChatConfig=null,t.FreeBulletChatConfig=null,t.ScatterBulletChatConfig=null,t.bulletChat=null,t.freeLabelNode=null,t.freeLabelNodePos=null,t.bigWinLayerIsThat=!1,t.resultMony=0,t.rollLineTime=0,t.scatterDopGapTime=.02,t.scatterDopWaitTime=1,t.freeGameOverInfo=null,t.freeGameOverHandler=null,t.freeGameOverIsIn=!1,t.isFirstInGame=!0,t.rideNode=null,t.multipleString=null,t.normalLight=null,t.freeLight=null,t.bomb=null,t.addDoubleTimes=0,t.rideNodeBeganZindex=0,t.numTime=0,t.scatterM_time=3,t.TouchRollM_time=3,t.isCanScatter=!0,t.isCanTouchRoll=!0,t.resultList=[],t.m_arrCannonNum={5:[6,12,18,40],10:[3,6,9,20],20:[1,2,3,5]},t.m_isChufaFree=!1,t.isFirstInPlayAni=!0,t.winAniData=[],t.scatterTask=null,t.wildTask=null,t.scroller=null,t.m_isRunning=!1,t.removeIndex=-1,t.protectedLastFreeAdd=null,t.count=-1,t.isAddBigWinCoin=!0,t.addMarskTime=!0,t._spinAniViews=[],t.bFirst=!0,t.cb=null,t.isNeedToFreeGame=!1,t.freeGameInfo=null,t.isInFast=!1,t.lastFreeTime=0,t.bounsGamePrefab=null,t.bounsGamePrefabNode=null,t.freeGameResultPrefab=null,t.freeGameResultNode=null,t}return i(t,e),t.prototype.onLoad=function(){var t=this;slot.SlotConfigManager.instance.registerJPTypes(3),e.prototype.onLoad.call(this),console.log("game111000901 onload",this.node),this.normalLight=this.ordinaryGameNode.getChildByName("normal").getComponent(cc.Animation);var n=this.ordinaryGameNode.getChildByName("rotationBg"),o=this.freeGameNode.getChildByName("freeRotationBg");this.freeLight=this.freeGameNode.getChildByName("free").getComponent(cc.Animation),this.rideNode=this.roller.getChildByName("rideNode"),this.multipleString=this.rideIcon.getChildByName("multipleString"),this.bomb=this.multipleString.getChildByName("bomb"),this.multipleString.getComponent(l.default).string="*1",this.rideNodeBeganZindex=this.rideNode.zIndex;var i=cc.rotateBy(35,180);n.runAction(cc.repeatForever(i));var a=cc.rotateBy(35,180);o.runAction(cc.repeatForever(a)),this.schedule(function(){t.normalLight.play("normal"),t.freeLight.play("free")},3),h.default.getInstance().initPool(this.bulletChat),game.EventManager.getInstance().addEventListener(slot.NetSlotConst.SPINRESP,this._onRollingResp,this),game.EventManager.getInstance().addEventListener(slot.NetSlotConst.RESTORERESP,this.setRespData,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_UPDATE_WIN_ANI_END,this.winAniEnd,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_BIGWIN_TEXT_SHOW,this.winAniStart,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_BIGWIN_TEXT_HIDE,this.winAniHide,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_ELEMENT_PAY_ID_SHOW,this.reelClick,this),game.EventManager.getInstance().addEventListener(c.mouseEvent.ROLL_END_STEP_TASK,this.stepTask,this),game.EventManager.getInstance().addEventListener(c.mouseEvent.MOUSE_BIG_MOVE_END,this.onScrollerStartComplete,this),game.EventManager.getInstance().addEventListener(c.mouseEvent.RIDE_ANI_IN_TARGET,this.playRideNodeAni,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_UPDATE_COIN_SCROLLER_END,this.callBackSuperOver,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_UPDATE_WINSCORE,this.firstLoginWin,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_STOP_SLOT_MACHINE_IMMEDIATELY,this.event_stop_slot_machine_immediately,this),window.gamelayer=this,game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_FORCE_UPDATE_ALL_SCORE,slot.ScoreBase.instance.forUpdateAllScore,slot.ScoreBase.instance)},t.prototype.onDestroy=function(){this.dispose(),game.EventManager.getInstance().removeEventListener(slot.NetSlotConst.SPINRESP,this._onRollingResp,this),game.EventManager.getInstance().removeEventListener(slot.NetSlotConst.RESTORERESP,this.setRespData,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_BIGWIN_TEXT_SHOW,this.winAniStart,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_UPDATE_WIN_ANI_END,this.winAniEnd,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_BIGWIN_TEXT_HIDE,this.winAniHide,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_ELEMENT_PAY_ID_SHOW,this.reelClick,this),game.EventManager.getInstance().removeEventListener(c.mouseEvent.MOUSE_BIG_MOVE_END,this.onScrollerStartComplete,this),game.EventManager.getInstance().removeEventListener(c.mouseEvent.ROLL_END_STEP_TASK,this.stepTask,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_UPDATE_COIN_SCROLLER_END,this.callBackSuperOver,this),game.EventManager.getInstance().removeEventListener(c.mouseEvent.RIDE_ANI_IN_TARGET,this.playRideNodeAni,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_STOP_SLOT_MACHINE_IMMEDIATELY,this.event_stop_slot_machine_immediately,this)},t.prototype.update=function(e){this.numTime<=1&&(this.numTime+=e),this.numTime>=1&&(this.numTime=0,this.scatterM_time>=0&&0==this.scatterM_time&&(this.isCanScatter=!0),this.TouchRollM_time>=0&&0==this.TouchRollM_time&&(this.isCanTouchRoll=!0),this.TouchRollM_time-=1,this.scatterM_time-=1)},t.prototype.start=function(){if(slot.EntranceView.instance.node.getChildByName("spr_bg2")){this.freeLabelNode=slot.EntranceView.instance.node.getChildByName("spr_bg2").getChildByName("spr_remaining").getChildByName("lab_num");var e=d.default.getPosByOtherNode(this.freeLabelNode,this.roller.parent.parent);this.freeLabelNodePos=cc.v2(e.x,e.y+100)}var t=function(){u.default.addBulletChat(0,this.bulletChatLayar,this.NorlmalBulletChatConfig)}.bind(this);this.schedule(t,12),game.EventManager.getInstance().raiseEvent(c.EventName.EVENT_UPDATE_MULTIPLE_NUM,this.m_arrCannonNum[20]),game.EventManager.getInstance().raiseEvent(c.EventName.EVENT_UPDATE_MULTIPLE,[1,0,0,0],!0)},t.prototype.stepTask=function(e,t){if(this.isFirstInGame)t.run(),this.isFirstInGame=!1;else{var n=0,o=!1;if(!d.default.respData.updateList)return void t.run();for(var i=this.resultList,a=i[i.length-1].rate,r=i[i.length-1].spinResult.gridChanged,s=d.default.respData.spinResult.lineResult.length>0,l=0;l<r.length;l++)9==(u=r[l])&&(o=!0);if(d.default.respData.state,this.changeElementData(i,!0),1==slot.GameControlBase.instance.fastBtnState&&(slot.SoundMger.instance.playEffect(c.SOUND_NAME.Reel_Stop_Quick,!1),n=1),s){var p=d.default.drawLineDataHandle(i.length-1,i);for(l=0;l<p.length;l++)for(var u=p[l],h=0;h<u.length;h++){var _=u[h];_[0].addLineToNode(_)}}if(2==d.default.respData.state){if(a>1){if(o)n=3,slot.SoundMger.instance.playEffect(c.SOUND_NAME.Wild_Shake,!1);else if(s){var m=cc.delayTime(1.9),f=cc.callFunc(function(){this.playRideComeBackAni(a)}.bind(this));this.node.runAction(cc.sequence(m,f))}if(o||s){n=3;var E=cc.delayTime(1.4),g=cc.callFunc(function(){this.playMultipleAni()}.bind(this));this.node.runAction(cc.sequence(E,g))}}}else o&&s&&(slot.SoundMger.instance.playEffect(c.SOUND_NAME.Wild_Shake,!1),n=2.5);a>=2&&slot.SoundMger.instance.playEffect("Mtp_Move_Below",!1),game.EventManager.getInstance().raiseEvent(c.mouseEvent.ROLL_REWARD_END);var v=cc.delayTime(n),y=cc.callFunc(function(){t.run(),d.default.totalEliminateTime=0,this.count=-1,this.removeIndex=-1}.bind(this));this.node.runAction(cc.sequence(v,y))}},t.prototype.playRideNodeAni=function(){var e=this.resultList,t=e[e.length-1].rate;this.addDoubleTimes++,this.isFirstInPlayAni&&(this.isFirstInPlayAni=!1,slot.SoundMger.instance.playEffect("Mtp_Move_Mid",!1),this.playRideComeBackAni(t))},t.prototype.playRideComeBackAni=function(e){var t=cc.delayTime(.05),n=cc.callFunc(function(){this.rideNode.zIndex=999,this.rideNode.opacity=255;var t=this.rideNode.getChildByName("spine").getComponent(sp.Skeleton);this.rideNode.getChildByName("rideLable").getComponent(l.default).string="*"+e,t.setAnimation(0,"zhengjia",!1);var n=cc.scaleTo(.5,2),o=cc.callFunc(function(){var t=this,n=cc.v2(this.rideIcon.x,this.rideIcon.y+100);d.default.bezierAct(this.rideNode,n,.8,400,600,function(){var n=cc.fadeOut(.5),o=cc.callFunc(function(){this.rideNode.x=368,this.rideNode.y=-380}.bind(t));t.rideNode.runAction(cc.sequence(n,o)),t.changeRideNodeString(e),game.EventManager.getInstance().raiseEvent(c.mouseEvent.OPACITY_END)})}.bind(this));this.rideNode.runAction(cc.sequence(n,o))}.bind(this));this.node.runAction(cc.sequence(t,n))},t.prototype.playMultipleAni=function(){var e=this,t=cc.v2(this.multipleString.x,this.multipleString.y);this.multipleString.opacity=255;var n=cc.v2(0,680);d.default.bezierAct(this.multipleString,n,.5,-400,-600,function(){e.multipleString.active=!1,e.multipleString.x=t.x,e.multipleString.y=t.y})},t.prototype.changeRideNodeString=function(e){var t=this.roller.getChildByName("node_win_score");this.multipleString.active=!0,this.multipleString.opacity=255,this.bomb.opacity=255,this.rideIcon.zIndex=this.rideNodeBeganZindex,t.zIndex=this.rideNodeBeganZindex-1,slot.SoundMger.instance.playEffect("Mtp_Light",!1);var n=cc.scaleTo(.2,1.1),o=cc.scaleTo(.2,.8),i=cc.delayTime(.1),a=cc.callFunc(function(){this.bomb.opacity=0}.bind(this));this.multipleString.runAction(cc.sequence(n,o,i,a)),this.multipleString.getComponent(l.default).string="*"+e},t.prototype.reelClick=function(){slot.SoundMger.instance.playEffect(c.SOUND_NAME.Reel_Click,!1)},t.prototype.onInit=function(){slot.SpinManager.instance.isFullLineAvailable=!1,this._initSlotMachineView(),console.log("oninit"),slot.SpinManager.customResultCallBack=function(){return console.log("\u8bbe\u7f6e\u81ea\u5b9a\u4e49\u7ed3\u679c\uff08\u9002\u7528\u4e8e\u6d88\u9664\u7c7b)----------------:",slot.SpinManager.instance.customUpdateData),slot.SpinManager.instance.customUpdateData.game_10017.data.resultList}},t.prototype.onInitScroller=function(e){var t=this,n=this.scroller=e.scroller,o=slot.SlotConfigManager.instance.DataGame.getData(slot.SlotConfigManager.instance.gameID);n.setupFactory(new f.default,new m.default,new E.default),slot.JTDefaultItemRender.setPlayCoinIndex(2,7);var i=n.options(slot.JTEliminatePipeline,slot.JTScrollerGroup.USE_CONVERT_MROE_LIST,o.column,e.scrollingComplete);i.childOption(slot.JTCreateScrolling,slot.JTOptionType.OPTION_CREATE),i.childOption(slot.JTBeginScrolling,slot.JTOptionType.OPTION_BEGIN_RUNNING,e.beginScrolling),i.childOption(slot.JTRunScrolling,slot.JTOptionType.OPTION_RUNNING,e.onSpinPreStop),i.childOption(slot.JTOverScrollEliminate,slot.JTOptionType.OPTION_OVER_RUNNING,e.scrollingProgress),n.setupDefaultItemList(this.getSourceList,slot.SlotConfigManager.instance.DataElement.getKeys(),!1),slot.JTDefaultItemRender.setPlayCoinIndex(1,7),slot.EliminateEffectUtils.elePlayAni=slot.Handler.create(this,this.playPrizeAni,[],!1),this.scatterTask=new slot.JTScatterTask,this.scatterTask.callScatterComplete=function(e){this.rollPushMarsk.active&&slot.SoundMger.instance.playEffect(c.SOUND_NAME.Scatter_Expectation_End),slot.SoundMger.instance.stopEffect(c.SOUND_NAME.Scatter_Expectation),6==e.index&&(game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_GAMECONTROL_ALL_BTN_CLICK,!0),game.EventManager.getInstance().raiseEvent(c.mouseEvent.ROLL_ANI_END)),this.rollPushMarsk.active=!1}.bind(this),this.scatterTask.config(10,2,"30-55-1",0,1e3,null,!0,null,function(e){0==t.m_isRunning&&(t.m_isRunning=!0,t.isCanScatter&&(t.isCanScatter=!1,t.scatterM_time=3,u.default.addBulletChat(4,t.bulletChatLayar,t.ScatterBulletChatConfig)),game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_GAMECONTROL_ALL_BTN_CLICK,!1),game.EventManager.getInstance().raiseEvent(c.mouseEvent.ROLL_ANI_START,4)),e.skinLoader.y=-425,e.skinLoader.x=e.x+60,e.skinLoader.scaleX=1.5,e.skinLoader.scaleY=1.6,slot.SoundMger.instance.playEffect(c.SOUND_NAME.Scatter_Expectation,!1);var n=cc.delayTime(.05),o=cc.callFunc(function(){game.EventManager.getInstance().raiseEvent(c.mouseEvent.ROLL_ANI_START_WHO,e.index)}.bind(t));e.skinLoader.runAction(cc.sequence(n,o));var i=d.default.getPosByOtherNode(e.skinLoader,t.rollPushMarsk.parent);t.rollPushMarsk.x=i.x+5,t.rollPushMarsk.y=i.y,t.rollPushMarsk.active=!0,t.rollPushMarsk.zIndex=10},slot.JTScatterTask.ITEM_COUNT_MODE,null,!1,!1),n.registerTask(slot.JTRuleTaskManager.TYPE_SCATTER,this.scatterTask,new slot.JTTaskContainer)},t.prototype.playRollAllAniTopAni=function(){this.rollAllAniTop.children.forEach(function(e){e.opacity=255})},t.prototype.event_stop_slot_machine_immediately=function(){this.m_isRunning=!1,slot.SoundMger.instance.playEffect("Reel_Stop_Sudd",!1)},t.prototype.playPrizeAni=function(e,t,n,o){this.removeIndex++;var i,a=.5,r=this.resultList[d.default.totalEliminateTime].crushFixedGophersGrid;this.rollLineTime=5,this.blueMarsk.active=!0,this.blueMarsk.parent.zIndex=this.roller.getChildByName("t").zIndex+1,this.rollAllAniTop.zIndex=this.blueMarsk.parent.zIndex+1,0!=d.default.totalEliminateTime&&(a=0),this.rollMarsk.opacity=0,this.rollMarsk.active=!0;var s=cc.fadeTo(.6,255);this.rollMarsk.runAction(s),slot.SoundMger.instance.playEffect(c.SOUND_NAME.Symbol_Prize,!1),i=d.default.fixedDataDeduplication(r);for(var l=0;l<i.length;l++){var p=i[l];slot.SlotMachineView.instance.scroller.getRenderByIndex(p.pos).addDataSpine(),d.default.playRollDataBgAni()}game.EventManager.getInstance().raiseEvent(c.mouseEvent.GET_REWARD_BEGAN);var u=d.default.drawLineDataHandle(d.default.totalEliminateTime,this.resultList);for(l=0;l<u.length;l++){p=u[l];for(var h=0;h<p.length;h++){var _=p[h];_[0].addLineToNode(_)}}var m=cc.delayTime(a),f=cc.callFunc(function(){this.playGoldAni(e,t,n,o)}.bind(this));if(this.node.runAction(cc.sequence(m,f)),d.default.scatterNumber>=2){var E=cc.delayTime(1.5),g=cc.delayTime(2+6*this.scatterDopGapTime),v=cc.callFunc(function(){this.topAniMarsk.active=!0,this.playRollAllAniTopAni(),game.EventManager.getInstance().raiseEvent(c.mouseEvent.TOP_ANI_START),slot.SoundMger.instance.playEffect(c.SOUND_NAME.Scatter_Expectation_Wait,!1),slot.SoundMger.instance.playEffect(c.SOUND_NAME.Scatter_Expectation_Beat,!0)}.bind(this)),y=cc.callFunc(function(){slot.SoundMger.instance.stopEffect(c.SOUND_NAME.Scatter_Expectation_Beat),game.EventManager.getInstance().raiseEvent(c.mouseEvent.TOP_ANI_END),this.topAniMarsk.active=!1,this.rollAllAniTop.children.forEach(function(e){e.opacity=0})}.bind(this)),N=cc.callFunc(function(){slot.SoundMger.instance.playEffect(c.SOUND_NAME.Symbol_Explode_Drop,!1);for(var e=0;e<6;e++){var t=cc.delayTime(e*this.scatterDopGapTime),n=cc.callFunc(function(){slot.SoundMger.instance.playEffect(c.SOUND_NAME.Scatter_Expectation_Drop,!1)}.bind(this));this.node.runAction(cc.sequence(t,n))}}.bind(this));this.node.runAction(cc.sequence(E,v,g,y,N))}},t.prototype.playGoldAni=function(e,t,n,o){var i=this;e.length>0&&slot.SoundMger.instance.playEffect("Symbol_Eliminate",!1);for(var a=0;a<e.length;a++)e[a].addEffectElement();game.EventManager.getInstance().raiseEvent(c.mouseEvent.GET_REWARD_BEFOR),this.count++,cc.tween(this).delay(.5).call(function(){i.changeItemAni(e,t,n,o)}).start()},t.prototype.changeItemAni=function(e,t,n,o){var i=this;if(cc.tween(this).delay(.5).call(function(){if(o&&o.lineResult)for(var n=0;n<o.lineResult.length;n++)i.slotMachine.scroller.lineParser.showLine(o.lineResult[n].lineId,!1);i.elePlayAni(e,t)}).start(),this.hasFreeGame,o&&o.lineResult)for(var a=0;a<o.lineResult.length;a++)this.slotMachine.scroller.lineParser.showLine(o.lineResult[a].lineId,!0);game.EventManager.getInstance().raiseEvent(c.mouseEvent.GET_REWARD_AND_POP_TIME,d.default.totalEliminateTime,!1,this.resultList),game.EventManager.getInstance().raiseEvent(c.mouseEvent.CLEAR_MOUSE_MOVE,d.default.totalEliminateTime);var r=cc.delayTime(1.5),s=cc.callFunc(function(){game.EventManager.getInstance().raiseEvent(c.mouseEvent.GET_REWARD_BOARD_CALL,d.default.eliminateTime-1)}.bind(this));this.node.runAction(cc.sequence(r,s)),d.default.eliminateTime++,d.default.totalEliminateTime++},t.prototype.elePlayAni=function(e,t){for(var n=this,o=0;o<e.length;o++)e[o].skinLoader.url=null;slot.SoundMger.instance.playEffect("Sym_Explode",!1);var i=function(){n.count>=slot.SpinManager.instance.customUpdateData.game_10017.data.resultList.length-2?cc.tween(n).delay(.2).call(function(){t.run(),game.EventManager.getInstance().raiseEvent(c.EventName.EVENT_CONTINUE_REWARD_END,function(){})}).start():t.run()};cc.tween(this).delay(.2).call(function(){n.rollMarsk.active=!1,game.EventManager.getInstance().raiseEvent(c.EventName.EVENT_CONTINUE_REWARD,i)}).delay(.02).call(function(){}).start()},t.prototype._initSlotMachineView=function(){slot.EliminateEffectUtils.setup(1500,.12,.08,.1,.8,.1,slot.EliminateDisappearUtils.disappearTime,slot.EliminateDisappearUtils.disappreaDelayTime,.05,this.scatterDopGapTime,this.scatterDopWaitTime),this.slotMachine.spaceX=-4,this.slotMachine.spaceY=0,this.slotMachine.gridWidth=126,this.slotMachine.gridHeight=126,this.slotMachine.afterRender(this,this._rederAfter),this.slotMachine.onItemRender(this,this._onSpinSlotRender),this._registerSlotMachineAnimation()},t.prototype.setRespData=function(e,t){d.default.respData=t,console.log("ywb",t)},t.prototype._rederAfter=function(){var e=this,t=this.roller.getChildByName("node_win_score");slot.SpinManager.instance.spinTouchEnable=!0,this.blueMarsk.parent.zIndex=this.roller.getChildByName("t")&&this.roller.getChildByName("t").zIndex+1,this.addMarskTime&&(this.addMarskTime=!1);for(var n=d.default.getAllDataInRoller(),o=0;o<n.length;o++)n[o]._showFrameAniView(slot.SlotMachineView.instance,o,function(e){d.default.falseRollNode.push(e)},function(){var n,o=null===(n=d.default.respData)||void 0===n?void 0:n.state,i=null,a=[];if(o&&o.freeData)i=0==(a=d.default.respData.state.freeData.handleState.game_10017.data.resultList).length?1:a[a.length-1].rate;else if(o&&o.normalData)return;if(null!=a[0]){var r=a[a.length-1].crushFixedGophersGrid,s=d.default.drawLineDataHandle(a.length-1,a),p=Number(a[a.length-1].spinResult.spinCoin);o&&!o.freeData&&e.scheduleOnce(function(){0!=p?game.EventManager.getInstance().raiseEvent(c.EventName.EVENT_PLAY_WIN_NUM_BEGIN,p,null,1,4):game.EventManager.getInstance().raiseEvent(c.EventName.EVENT_PLAY_WIN_NUM_BEGIN,0,null,1,1),d.default.playRollDataBgAni()},.1),0!=p&&(e.blueMarsk.active=!0,e.multipleString.opacity=255,e.rideIcon.zIndex=e.rideNodeBeganZindex,t.zIndex=e.rideNodeBeganZindex-1,e.multipleString.getComponent(l.default).string="*"+i,i>=2&&e.playWildSound());for(var u=0;u<r.length;u++){var h=r[u];slot.SlotMachineView.instance.scroller.getRenderByIndex(h.pos).addDataSpine()}for(var _=0;_<s.length;_++)for(var m=s[_],f=0;f<m.length;f++){var E=m[f];E[0].addLineToNode(E)}}});this.initRenderState()},t.prototype.initRenderState=function(){},t.prototype.callBackSuperOver=function(e,t){slot.SoundMger.instance.stopEffect("Prize_Big"),slot.SoundMger.instance.playEffect("Prize_Big_End",!1);var n=Number(d.default.respData.spinResult.spinCoin)/100/Number(slot.SpinManager.instance.betCost/100),o=t.parent.getChildByName("winTextLayer");o.children.forEach(function(e){e.opacity=0,e.scale=.6,e.anchorY=0,e.y=80}),n>=5&&n<15?o.getChildByName("bigWin").opacity=255:n>=15&&n<50?o.getChildByName("superWin").opacity=255:n>=50&&(o.getChildByName("megaWin").opacity=255)},t.prototype._registerSlotMachineAnimation=function(){this.slotMachine.onContinuousNotWinAnimation(this,this._playContinuousNotWinAnimation),this.slotMachine.onNormalRewardsAnimation(this,this._playNormalRewardsAnimation),this.slotMachine.onFullLineAnimation(this,this._playFullLineAnimation),this.slotMachine.onGreatRewardsAnimation(this,this._playGreatRewardsAnimation),this.slotMachine.onMiddleRewardsAnimation(this,this._playMiddleRewardsAnimation),this.slotMachine.onSmallRewardsAnimation(this,this._playSmallRewardsAnimation),this.slotMachine.onSpinStart(this,this._onSpinStart),this.slotMachine.onSpinStop(this,this._onSpinStop),this.slotMachine.onSpinComplete(this,this._onSpinComplete),this.slotMachine.onSpinBegin(this,this._onSpinBegin)},t.prototype._onSpinComplete=function(){this.scatterDopWaitTime,game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_GAMECONTROL_ALL_BTN_CLICK,!0),this.rollAllAniTop.children.forEach(function(e){e.opacity=0});var e=this.resultList;if(e&&e[e.length-1]&&e[e.length-1].spinResult){var t=1;null!=e[e.length-1].rate&&(t=e[e.length-1].rate);var n,o=Number(e[e.length-1].spinResult.spinCoin);n=d.default.respData.userInfo?Number(d.default.respData.userInfo.balance):Number(d.default.respData.balance),0!=(o=Number(slot.SpinManager.instance.rollingResult.spinResult.spinCoin))&&n>slot.SpinManager.instance.betCost&&game.EventManager.getInstance().raiseEvent(c.EventName.EVENT_PLAY_WIN_NUM_BEGIN,o,this.totalSpinCoin,t,0),this.changeElementData(e,!1),game.EventManager.getInstance().raiseEvent(c.mouseEvent.ROLL_END_CALL_BACK),this.m_isRunning&&game.EventManager.getInstance().raiseEvent(c.EventName.EVENT_PLAY_ROLE_ANI,c.RoleAniType.Random),this.m_isRunning=!1,slot.FreeGameManager.instance.isTreateNewFree||1==d.default.respData.state&&(d.default.eliminateTime=0),slot.FreeGameManager.instance.isTreateNewFree&&game.EventManager.getInstance().raiseEvent(c.mouseEvent.GET_FREE_REWARD_BEGAN_MOUSE_BG)}},t.prototype.changeElementData=function(e,t){if(void 0===e&&(e=null),void 0===t&&(t=null),null!=e)for(var n=e[e.length-1].spinResult.gridChanged,o=0;o<n.length;o++){var i=n[o];10==i&&slot.SlotMachineView.instance.scroller.getRenderByIndex(o+1).addDataSpine(),t&&9==i&&slot.SlotMachineView.instance.scroller.getRenderByIndex(o+1).addDataSpine()}},t.prototype._onSpinStop=function(){this.addSpecalData(),this.rollLineTime++,slot.SoundMger.instance.playEffect("Reel_Stop_Eve",!1)},t.prototype.addSpecalData=function(){var e=null;if(d.default.respData.updateList&&this.resultList[d.default.totalEliminateTime]){e=this.resultList[d.default.totalEliminateTime].spinResult.grid;for(var t=[6*this.rollLineTime,6*this.rollLineTime+5],n=t[0];n<=t[1];n++)10==e[n]&&slot.SlotMachineView.instance.scroller.getRenderByIndex(n+1).addDataSpine()}},t.prototype._onRollingResp=function(e,t){d.default.respData=t,this.resultList=t.updateList[0].value.handleState.game_10017.data.resultList,console.log("ywb",t)},t.prototype.firstLoginWin=function(e,t){this.bFirst&&t>0&&(_.default.instance.m_money=t,_.default.instance._updateWinNum(null,t,t,1,0),this.bFirst=!1)},t.prototype._onSpinStart=function(){this.unschedule(this._clearSpinReelAni),this._clearSpinReelAni()},t.prototype._onSpinBegin=function(){this.bFirst=!1;var e=slot.SlotMachineView.instance.node.parent.parent;if(slot.FreeGameManager.instance.isTreateFromFreeGame||game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_UPDATE_WINSCORE,0,!1,!0),e.stopAllActions(),1!=slot.GameControlBase.instance.fastBtnState&&(this.beforeScorllerStartRoller(),this.scheduleOnce(function(){this.onScrollerStartComplete()},1.5)),d.default.scatterNumber=0,d.default.clearData=[],this.isFirstInPlayAni=!0,this.rollLineTime=0,this.blueMarsk.active=!1,game.EventManager.getInstance().raiseEvent(c.mouseEvent.ROLL_PLAY),this.isCanTouchRoll)if(this.isCanTouchRoll=!1,this.TouchRollM_time=3,d.default.respData&&1==d.default.respData.state)u.default.addBulletChat(1,this.bulletChatLayar,this.NorlmalBulletChatConfig);else{for(var t={json:[]},n=0;n<=24;n++){var o=this.NorlmalBulletChatConfig.json[n];t.json.push(o)}for(n=0;n<=13;n++)o=this.FreeBulletChatConfig.json[n],t.json.push(o);u.default.addBulletChat(1,this.bulletChatLayar,t)}if(slot.FreeGameManager.instance.hasFreeGame||(this.multipleString.getComponent(l.default).string="*1",this.multipleString.opacity=100),console.log("ywb\u6eda\u8f74\u5f00\u59cb\u65f6state\uff1a",this.ordinaryGameNode.opacity),255==this.ordinaryGameNode.opacity){var i=this.roller.getChildByName("node_win_score");this.addDoubleTimes=0,this.rideIcon.zIndex-=this.rideNodeBeganZindex,i.zIndex=this.rideNodeBeganZindex+1}0<slot.SpinManager.instance.betCost&&game.EventManager.getInstance().raiseEvent(c.mouseEvent.NOT_HAVE_MONY_OPEN_ROLL),game.EventManager.getInstance().raiseEvent(c.EventName.EVENT_STOP_WIN_NUM),this.m_isChufaFree?game.EventManager.getInstance().raiseEvent(c.EventName.EVENT_PLAY_SCORE_ANI,slot.WinAniType.Small):game.EventManager.getInstance().raiseEvent(c.EventName.EVENT_PLAY_SCORE_ANI,slot.WinAniType.Normal)},t.prototype.beforeScorllerStartRoller=function(){this.slotMachine.scroller.setOncePendingSchedule()},t.prototype.onScrollerStartComplete=function(){this.slotMachine.scroller.continuePendingTask()},t.prototype._clearSpinReelAni=function(){},t.prototype._playContinuousNotWinAnimation=function(e,t){t.run()},t.prototype._playNormalRewardsAnimation=function(e,t){t.run(),game.EventManager.getInstance().raiseEvent(c.EventName.EVENT_WIN_GAME,c.WinType.win)},t.prototype._playFullLineAnimation=function(e,t){game.EventManager.getInstance().raiseEvent(c.EventName.EVENT_WIN_GAME,c.WinType.fiveEven),t.run()},t.prototype.winAniStart=function(e,t){var n=t.parent,o=n.parent.getChildByName("aniLayer");o.children;for(var i=0;i<o.children.length;i++){var a=o.children[i];"bulletChatNode"==a.name&&h.default.getInstance().onEnemyKilled(a)}if(u.default.addBulletChat(2,o,this.BigWinBulletChatConfig),n.children.forEach(function(e){e.opacity=0}),t.opacity=255,!this.bigWinLayerIsThat){var r=cc.instantiate(this.winAniStopAni);r.active=!0,r.getComponent(sp.Skeleton).setAnimation(0,"light",!1),o.addChild(r),slot.SoundMger.instance.playEffect(c.SOUND_NAME.Prize_Big,!1),this.bigWinLayerIsThat=!0}},t.prototype.winAniEnd=function(e,t){if(this.bigWinLayerIsThat=!1,console.log("ywb",t),null!=t||null!=t){slot.SoundMger.instance.stopEffect(c.SOUND_NAME.Prize_Big),slot.SoundMger.instance.playEffect(c.SOUND_NAME.Prize_Big_End,!1);var n=this.resultList,o=n[n.length-1].rate,i=Number(n[n.length-1].spinResult.spinCoin);0!=i&&game.EventManager.getInstance().raiseEvent(c.EventName.EVENT_PLAY_WIN_NUM_BEGIN,i,i,o,1),this.isNeedToFreeGame&&this.addFreeSpinsAni("",this.freeGameInfo,this.cb),this.freeGameOverIsIn&&(this.freeGameOverIsIn=!1,game.UIManager.getInstance().open(p.UIID.FREE_GAME_RESULT,[this.freeGameOverHandler,this.freeGameOverInfo.sumSpinCoin,this.freeGameOverInfo.sumTimes]))}},t.prototype.winAniHide=function(e,t){console.log("ywb",t)},t.prototype._playGreatRewardsAnimation=function(e,t){var n=this,o=slot.Handler.create(this,function(){n.m_isChufaFree&&game.EventManager.getInstance().raiseEvent(c.EventName.EVENT_PLAY_SCORE_ANI,slot.WinAniType.Great),t.run()});this.showWinAniView(slot.WinAniType.Great,e,o,!slot.FreeGameManager.instance.isTreateFromFreeGame)},t.prototype._playMiddleRewardsAnimation=function(e,t){this.showWinAniView(slot.WinAniType.Middle,e,t,!slot.FreeGameManager.instance.isTreateFromFreeGame)},t.prototype._playSmallRewardsAnimation=function(e,t){this.showWinAniView(slot.WinAniType.Small,e,t,!slot.FreeGameManager.instance.isTreateFromFreeGame),this.m_isChufaFree?game.EventManager.getInstance().raiseEvent(c.EventName.EVENT_PLAY_SCORE_ANI,slot.WinAniType.Middle):game.EventManager.getInstance().raiseEvent(c.EventName.EVENT_PLAY_SCORE_ANI,slot.WinAniType.Small)},t.prototype._onSpinSlotRender=function(){},t.prototype.addEventListener=function(){e.prototype.addEventListener.call(this)},t.prototype.removeEventListener=function(){e.prototype.removeEventListener.call(this)},t.prototype.addFreeSpinsAni=function(e,t,n){if(void 0===t&&(t=null),console.log("\u8fdb\u5165\u4e86\u514d\u8d39\u6e38\u620f"),this.cb=n,this.isNeedToFreeGame=!0,this.freeGameInfo=t,!this.bigWinLayerIsThat){this.isNeedToFreeGame=!1,slot.SoundMger.instance.playEffect(c.SOUND_NAME.Fs_Enter_Light,!1),slot.SoundMger.instance.playEffect(c.SOUND_NAME.Fs_Trigger,!1),slot.SoundMger.instance.playEffect(c.SOUND_NAME.Fs_Enter,!1);var o=slot.Handler.create(this,function(){});game.EventManager.getInstance().raiseEvent(c.mouseEvent.INIT_TO_FREE_GAME);var i=cc.delayTime(1.3),a=cc.callFunc(function(){this.showBounsGamePrefab(p.UIID.BONUS_GAME_POPUP,[o,n,t.sumTimes])}.bind(this));this.node.runAction(cc.sequence(i,a))}},t.prototype.freeGameChangeBg=function(e){e?(1==slot.GameControlBase.instance.fastBtnState?this.isInFast=!0:this.isInFast=!1,slot.SpinManager.instance.isInTurbo=!1,this.freeGameNode.opacity=255,this.ordinaryGameNode.opacity=0):(this.isInFast&&(slot.SpinManager.instance.isInTurbo=!0),this.freeGameNode.opacity=0,this.ordinaryGameNode.opacity=255),this.rideIcon.getChildByName("bonus_multiplier").active=e},t.prototype.refreshRoom=function(){},t.prototype.onInitFreeGame=function(e,t){switch(console.log("oniniffreegame",e),e.type){case slot.OperationState.Free:this.lastFreeTime=e.sumTimes,game.EventManager.getInstance().raiseEvent(c.EventName.FREE_GAME_START,e.times),this.freeGameChangeBg(!0);break;case slot.OperationState.ReSpin:}t.runWith(!0)},t.prototype.onFreeGameTriggered=function(e,t){switch(console.log("onFreeGameTriggered",e),e.type){case slot.OperationState.Free:slot.SoundMger.instance.playMusic(c.SOUND_NAME.FreeGame_Back_Music),slot.MainView.instance.node.getChildByName("menu").opacity=0,this.lastFreeTime=e.sumTimes,slot.MainView.instance.node.getChildByName("scorePrefab").y=-650,console.log("onFreeGameTriggeredFREE_GAME_START"),game.EventManager.getInstance().raiseEvent(c.EventName.FREE_GAME_START,e.sumTimes),this.freeGameChangeBg(!0),this.multipleString.getComponent(l.default).string="*1",this.multipleString.opacity=100,game.EventManager.getInstance().raiseEvent(c.EventName.EVENT_UPDATE_MULTIPLE_NUM,this.m_arrCannonNum[e.sumTimes],!0),this.m_isChufaFree=!0;break;case slot.OperationState.ReSpin:}t.runWith(!0)},t.prototype.onFreeGameInfoUpdated=function(e){switch(console.log("onFreeGameInfoUpdated",e),e.type){case slot.OperationState.Free:case slot.OperationState.ReSpin:}},t.prototype.onFreeGameOver=function(e,t){var n=this;switch(console.log("ywbonFreeGameOver",e),this.isNeedToFreeGame=!1,this.freeGameOverIsIn=!0,e.type){case slot.OperationState.Free:slot.MainView.instance.node.getChildByName("scorePrefab").y=-415,slot.MainView.instance.node.getChildByName("menu").opacity=255;var o=slot.Handler.create(this,function(){console.log("ywb\u514d\u8d39\u7ed3\u7b97\u7ed3\u675faaaaaaaaaaaaaaaaaaa"),game.EventManager.getInstance().raiseEvent(c.EventName.FREE_GAME_OVER),n.freeGameChangeBg(!1),n.m_isChufaFree=!1,game.EventManager.getInstance().raiseEvent(c.EventName.EVENT_UPDATE_MULTIPLE_NUM,n.m_arrCannonNum[20]),t.runWith(!0)});this.bigWinLayerIsThat?(this.freeGameOverInfo=e,this.freeGameOverHandler=o):(this.freeGameOverIsIn=!1,game.UIManager.getInstance().open(p.UIID.FREE_GAME_RESULT,[o,e.sumSpinCoin,e.sumTimes]));break;case slot.OperationState.ReSpin:}},t.prototype.onFreeGameTriggerAgain=function(e,t){switch(console.log("ywbonFreeGameTriggerAgain",e),e.type){case slot.OperationState.Free:var n=slot.Handler.create(this,function(){t.run()});game.EventManager.getInstance().raiseEvent(c.EventName.EVENT_ADD_FREE_GAME_NUM,e.times,n);break;case slot.OperationState.ReSpin:}},t.prototype.onFreeGameTimesUpdated=function(e){e-this.lastFreeTime>=5?this.lastFreeTime=e:(this.lastFreeTime=e,game.EventManager.getInstance().raiseEvent(c.EventName.EVENT_FREE_GAME_NUM,e))},t.prototype.onBonusGameTriggered=function(e,t){slot.Handler.create(this,function(){}),t.runWith(!0)},t.prototype.onBonusGameOver=function(e,t){t.runWith(!0),this.hideBounsGamePrefab()},t.prototype.showBounsGamePrefab=function(e,t,n,o){this.bounsGamePrefabNode=cc.instantiate(this.bounsGamePrefab);var i=cc.Canvas.instance.node;this.bounsGamePrefabNode.getComponent(cc.Widget).target=i,i.addChild(this.bounsGamePrefabNode,slot.LayerManage.effect),this.bounsGamePrefabNode.getComponent(r.default).onOpen(e,t,n,o)},t.prototype.hideBounsGamePrefab=function(){this.bounsGamePrefabNode&&(this.bounsGamePrefabNode.active=!1,cc.Canvas.instance.node.removeChild(this.bounsGamePrefabNode))},t.prototype.showFreeGameResultPrefab=function(e,t,n,o){this.freeGameResultNode=cc.instantiate(this.freeGameResultPrefab);var i=cc.Canvas.instance.node;this.freeGameResultNode.getComponent(cc.Widget).target=i,i.addChild(this.freeGameResultNode,slot.LayerManage.effect),this.freeGameResultNode.getComponent(s.default).onOpen(e,t,n,o)},t.prototype.hideFreeGameResultPrefab=function(){this.freeGameResultNode&&(this.freeGameResultNode.active=!1,cc.Canvas.instance.node.removeChild(this.freeGameResultNode))},a([y(cc.Node)],t.prototype,"roller",void 0),a([y(cc.Node)],t.prototype,"rollMarsk",void 0),a([y(cc.Node)],t.prototype,"rollPushMarsk",void 0),a([y(cc.Node)],t.prototype,"ordinaryGameNode",void 0),a([y(cc.Node)],t.prototype,"freeGameNode",void 0),a([y(cc.Node)],t.prototype,"bulletChatLayar",void 0),a([y(cc.Node)],t.prototype,"rollAllAniTop",void 0),a([y(cc.Node)],t.prototype,"blueMarsk",void 0),a([y(cc.Node)],t.prototype,"topAniMarsk",void 0),a([y(cc.Node)],t.prototype,"winAniStopAni",void 0),a([y(cc.Node)],t.prototype,"rideIcon",void 0),a([y(cc.JsonAsset)],t.prototype,"NorlmalBulletChatConfig",void 0),a([y(cc.JsonAsset)],t.prototype,"BigWinBulletChatConfig",void 0),a([y(cc.JsonAsset)],t.prototype,"FreeBulletChatConfig",void 0),a([y(cc.JsonAsset)],t.prototype,"ScatterBulletChatConfig",void 0),a([y(cc.Prefab)],t.prototype,"bulletChat",void 0),a([y({type:cc.Prefab,tooltip:"\u5c0f\u6e38\u620f\u8fc7\u573a\u52a8\u753b"})],t.prototype,"bounsGamePrefab",void 0),a([y({type:cc.Prefab,tooltip:"\u514d\u8d39\u6e38\u620f\u7ed3\u7b97\u9884\u5236"})],t.prototype,"freeGameResultPrefab",void 0),a([v],t)}(slot.AbstractMainView);n.default=N,cc._RF.pop()},{"../GameEventName111000901":"GameEventName111000901","../bonusGame/BonusGame111000901":"BonusGame111000901","../freeGameResult/FreeGameResult":"FreeGameResult","../main/CommonNumAtlas111000901":"CommonNumAtlas111000901","../main/Main111000901":"Main111000901","../tool/Tool":"Tool","../tool/bulletChatManager":"bulletChatManager","../tool/poolManager":"poolManager","./GameRoller111000901":"GameRoller111000901","./scrollerSkins/JTChildManager111000901":"JTChildManager111000901","./scrollerSkins/JTLayerManager111000901":"JTLayerManager111000901","./scrollerSkins/JTLogicFactroy111000901":"JTLogicFactroy111000901"}],GameRoller111000901:[function(e,t,n){"use strict";cc._RF.push(t,"abb6bi47QpMaoarOAE3uHhF","GameRoller111000901");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../GameEventName111000901"),s=e("../main/CommonNumAtlas111000901"),c=e("../tool/Tool"),l=cc._decorator,p=l.ccclass,u=l.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.p_nodeLayoutWin=null,t.p_nodeOwrWin=null,t.p_nodeCountWin=null,t.p_nodeWinNum=null,t.coteBoard=null,t.horseBoard=null,t.partilcq=null,t.xx_light=null,t.green2_front_partilce=null,t.rightSpine=null,t.rightSpine2=null,t.m_scoreLevel=0,t.m_arrMultiple=[],t.m_isChufaFree=!1,t.m_roleAniState=0,t.m_cannonIndex=0,t.owrNumber=0,t.magnification=0,t.m_money=1e3,t.m_speed=3,t.m_isUpdate=!1,t}var n;return i(t,e),n=t,t.prototype.onLoad=function(){n.instance=this,window.gameRoller=this,game.EventManager.getInstance().addEventListener(r.EventName.FREE_GAME_START,this._onFreeGameStart,this),game.EventManager.getInstance().addEventListener(r.EventName.FREE_GAME_OVER,this._onFreeGameOver,this),game.EventManager.getInstance().addEventListener(r.EventName.EVENT_UPDATE_MULTIPLE,this._updateMultiple,this),game.EventManager.getInstance().addEventListener(r.EventName.EVENT_UPDATE_MULTIPLE_NUM,this._updateMultipleNum,this),game.EventManager.getInstance().addEventListener(r.EventName.EVENT_CONTINUE_REWARD,this._continueReward,this),game.EventManager.getInstance().addEventListener(r.EventName.EVENT_CONTINUE_REWARD_END,this._continueRewardEnd,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_UPDATE_WIN_ANI_END,this.winAniEnd,this),game.EventManager.getInstance().addEventListener(r.EventName.EVENT_STOP_WIN_NUM,this._stopWinNum,this),game.EventManager.getInstance().addEventListener(r.EventName.EVENT_PLAY_WIN_NUM_BEGIN,this._updateWinNum,this),game.EventManager.getInstance().addEventListener(r.EventName.EVENT_PLAY_SCORE_ANI,this._playRewardAni,this),game.EventManager.getInstance().addEventListener(r.mouseEvent.NORMAL_RECONNECTION_DATA,this.reconnetion,this),game.EventManager.getInstance().addEventListener(r.mouseEvent.FREE_RECONNECTION_DATA,this.freeReconnetion,this),game.EventManager.getInstance().addEventListener(r.mouseEvent.OPACITY_END,this.getRewardDouble,this),game.EventManager.getInstance().addEventListener(r.mouseEvent.ROLL_PLAY,this.rollPlay,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_STOP_SLOT_MACHINE_IMMEDIATELY,this.event_stop_slot_machine_immediately,this)},t.prototype.freeReconnetion=function(e,t){var n=t.handleState.game_10017.data.resultList;this.reconnetion(e,n)},t.prototype.reconnetion=function(e,t){for(var n=null,o=t,i=0;i<o.length;i++){var a=o[i];n+=Number(a.spinResult.spinCoin)}this.p_nodeOwrWin.active=!1,this.p_nodeWinNum.active=!0,this.p_nodeCountWin.active=!0,this.p_nodeWinNum.getComponent(s.default).string=slot.SlotUtils.formatNumber(n)},t.prototype.winAniEnd=function(){},t.prototype.rollPlay=function(){var e=this;this.horseBoard.active||(this.horseBoard.active=!0,this.horseBoardSpineCtrl("bule",!1,function(){e.horseBoardSpineCtrl("bule_loop",!0)})),this.coteBoard.active=!1},t.prototype.horseBoardSpineCtrl=function(e,t,n){void 0===n&&(n=null);var o=this.horseBoard.getComponent(sp.Skeleton);o.setAnimation(0,e,t),o.setCompleteListener(function(){o.setCompleteListener(null),"function"==typeof n&&n()})},t.prototype._playWinSocre=function(e,t){var n=this;this.coteBoard.active=!0,this.horseBoard.active=!1;var o=null;if(c.default.respData.updateList)o=c.default.respData.updateList[0].value.handleState.game_10017.data.resultList;else{var i=c.default.respData.state;i.freeData?(o=c.default.respData.state.freeData.handleState.game_10017.data.resultList)[o.length-1].rate:i.normalData&&(o=c.default.respData.state.normalData.handleState.game_10017.data.resultList).length>0&&o[o.length-1].rate}if(0!=o.length){var a=o[o.length-1].rate;if(0==t||4==t){var r=null,s=null;if(e<5?(r="bule",s="xx"):(r="green",s="zz"),"bule"==r&&4!=t){this.p_nodeOwrWin.active=!1,this.p_nodeWinNum.active=!1,this.p_nodeCountWin.active=!1;var l=cc.delayTime(.8),p=cc.callFunc(function(){this.p_nodeOwrWin.active=1==a,this.p_nodeWinNum.active=!0,this.p_nodeCountWin.active=!1}.bind(this));this.node.runAction(cc.sequence(l,p))}this.coteBoardSpineCtrl(r,!1,function(){n.coteBoardSpineCtrl(r+"_loop",!0)}),1==a&&(window.gamelayer.bFirst||(this.partilcqSpineCtrl(),this.xx_lightSpineCtrl(),this.rightSpineSpineCtrl(s)))}else 1==t&&(this.coteBoardSpineCtrl("green2",!1,function(){n.coteBoardSpineCtrl("green2_loop",!0)}),this.green2_front_partilceSpineCtrl())}},t.prototype.coteBoardSpineCtrl=function(e,t,n){void 0===n&&(n=null);var o=this.coteBoard.getComponent(sp.Skeleton);o.setAnimation(0,e,t),o.setCompleteListener(function(){"function"==typeof n&&n()})},t.prototype.partilcqSpineCtrl=function(e){var t=this;void 0===e&&(e=null);var n=this.partilcq;this.partilcq.node.opacity=255,n.setAnimation(0,"partilcq",!1),n.setCompleteListener(function(){n.setCompleteListener(null),t.partilcq.node.opacity=0,"function"==typeof e&&e()})},t.prototype.xx_lightSpineCtrl=function(e){var t=this;void 0===e&&(e=null);var n=this.xx_light;this.xx_light.node.opacity=255,n.setAnimation(0,"xx_light",!1),n.setCompleteListener(function(){n.setCompleteListener(null),t.xx_light.node.opacity=0,"function"==typeof e&&e()})},t.prototype.green2_front_partilceSpineCtrl=function(e){var t=this;void 0===e&&(e=null);var n=this.green2_front_partilce;this.green2_front_partilce.node.opacity=255,n.setAnimation(0,"green2_front_partilce",!1),n.setCompleteListener(function(){n.setCompleteListener(null),t.green2_front_partilce.node.opacity=0,"function"==typeof e&&e()})},t.prototype.rightSpineSpineCtrl=function(e,t){var n=this;void 0===t&&(t=null);var o=this.rightSpine,i=this.rightSpine2;"zz"==e&&(i.node.opacity=255,i.setAnimation(0,e,!1),i.setCompleteListener(function(){i.setCompleteListener(null),i.node.opacity=0})),this.rightSpine.node.opacity=255,o.setAnimation(0,e,!1),o.setCompleteListener(function(){o.setCompleteListener(null),n.rightSpine.node.opacity=0,"function"==typeof t&&t()})},t.prototype._roleAniMultipleUpdate=function(){var e=this;this.m_roleAniState=2,this._playRoleAniEffect(),this._playRoleAni("multiplier_up",!1,function(){e.m_roleAniState=0},"idle_01",!0)},t.prototype._roleAniWinSmall=function(){var e=this;this.m_roleAniState=4,this._playRoleAni("win_small",!1,function(){e.m_roleAniState=0},"idle_01",!0)},t.prototype._playRoleAni=function(){},t.prototype._updateMultiple=function(e,t,n){void 0===n&&(n=!1)},t.prototype._updateMultipleNum=function(e,t,n){void 0===n&&(n=!1),this._setMultipleNum(t,n)},t.prototype._setMultipleNum=function(e,t){void 0===t&&(t=!1)},t.prototype._playRoleAniEffect=function(){},t.prototype._playRewardAniEffect=function(){},t.prototype._continueReward=function(e,t){var n=this;cc.tween(this).delay(.5).call(function(){n.scheduleOnce(function(){slot.SoundMger.instance.playEffect(r.SOUND_NAME.Symbol_Explode_Drop,!1)},.5),t&&t()}).start()},t.prototype._continueRewardEnd=function(e,t){var n=this;this._roleAniWinSmall(),cc.tween(this).delay(.5).call(function(){0!=n.m_cannonIndex&&(n.m_arrMultiple=[1,0,0,0],n._updateMultiple("",n.m_arrMultiple))}).start(),cc.tween(this).delay(.5).call(function(){t&&t()}).start()},t.prototype._stopWinNum=function(){},t.prototype.event_stop_slot_machine_immediately=function(){Number(slot.SpinManager.instance.rollingResult.spinResult.spinCoin)},t.prototype._playRewardAni=function(){},t.prototype._updateWinNum=function(e,t,n,o,i){if(void 0===n&&(n=null),void 0===i&&(i=null),null!=t){this.owrNumber=t,1==o?(this.p_nodeOwrWin.active=!0,this.p_nodeWinNum.active=!0,this.p_nodeCountWin.active=!1):(this.p_nodeOwrWin.active=!1,this.p_nodeWinNum.active=!0,this.p_nodeCountWin.active=!1),4==i&&(this.p_nodeOwrWin.active=!0,this.p_nodeWinNum.active=!0,this.p_nodeCountWin.active=!1);var a=null,c=Number(slot.SlotUtils.formatNumber(slot.SpinManager.instance.betCost));if(this.m_isUpdate=!0,null!=n)this.p_nodeWinNum.getComponent(s.default).string=slot.SlotUtils.formatNumber(n),a=n/100/c,this.p_nodeOwrWin.active=!1,this.p_nodeWinNum.active=!0,this.p_nodeCountWin.active=!0,0!=i&&slot.SoundMger.instance.playEffect(r.SOUND_NAME.Textbox_Total,!1);else if(this.p_nodeWinNum.getComponent(s.default).string=slot.SlotUtils.formatNumber(Math.floor(t/o)),a=t/100/c,this.magnification=a,1==o)if(a>=5){slot.SoundMger.instance.playEffect(r.SOUND_NAME.Textbox_Coin,!1),this.m_money=0,this.m_isUpdate=!0,this.m_speed=Math.ceil(t/40);var l=slot.MathUtil.getRandomRange(1,3,!0);slot.SoundMger.instance.playEffect("Textbox_020"+l,!1)}else slot.SoundMger.instance.playEffect(r.SOUND_NAME.Textbox_01,!1);this._playWinSocre(a,i)}},t.prototype._setLabMoney=function(e){this.p_nodeWinNum.getComponent(s.default).string=slot.SlotUtils.formatNumber(e,2)},t.prototype.getRewardDouble=function(){slot.SoundMger.instance.playEffect(r.SOUND_NAME.Mtp_Effect,!1),this.partilcqSpineCtrl(),this.xx_lightSpineCtrl();var e=null,t=c.default.respData.updateList[0].value.handleState.game_10017.data.resultList;if(slot.FreeGameManager.instance.isTreateFromFreeGame,t[t.length-1].rate,0!=Number(t[t.length-1].spinResult.spinCoin)){if(e=this.magnification<5?"xx":"zz",this.m_isUpdate=!0,this.magnification>=5){slot.SoundMger.instance.playEffect(r.SOUND_NAME.Textbox_Coin,!1),this.p_nodeOwrWin.active=!0,this.p_nodeWinNum.active=!0,this.p_nodeCountWin.active=!1,this.m_money=0,this.m_isUpdate=!0,this.m_speed=Math.ceil(this.owrNumber/40);var n=slot.MathUtil.getRandomRange(1,3,!0);slot.SoundMger.instance.playEffect("Textbox_020"+n,!1)}else this.p_nodeOwrWin.active=!0,this.p_nodeWinNum.active=!0,this.p_nodeCountWin.active=!1,this.p_nodeWinNum.getComponent(s.default).string=slot.SlotUtils.formatNumber(this.owrNumber),slot.SoundMger.instance.playEffect(r.SOUND_NAME.Textbox_01,!1);this.rightSpineSpineCtrl(e)}},t.prototype.updataWinScroe=function(e){slot.ScoreBase.instance.forUpdateAllScore("",null),slot.FreeGameManager.instance.isTreateFromFreeGame?(slot.FreeGameManager.instance.isTreateFreeOver,game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_UPDATE_WINSCORE,e,!0,!0,!1)):game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_UPDATE_WINSCORE,e,!1,!0)},t.prototype._playCountWinNum=function(e,t){this.p_nodeOwrWin.active=!1,this.p_nodeWinNum.active=!0,this.p_nodeCountWin.active=!0,cc.tween(this.p_nodeWinNum).delay(1).call(function(){t&&t()}).start()},t.prototype._onFreeGameStart=function(){this.m_isChufaFree=!0},t.prototype._onFreeGameOver=function(){this.m_isChufaFree=!1},t.prototype.start=function(){},t.prototype.onDestroy=function(){game.EventManager.getInstance().removeEventListener(r.EventName.FREE_GAME_START,this._onFreeGameStart,this),game.EventManager.getInstance().removeEventListener(r.EventName.FREE_GAME_OVER,this._onFreeGameOver,this),game.EventManager.getInstance().removeEventListener(r.EventName.EVENT_UPDATE_MULTIPLE,this._updateMultiple,this),game.EventManager.getInstance().removeEventListener(r.EventName.EVENT_UPDATE_MULTIPLE_NUM,this._updateMultipleNum,this),game.EventManager.getInstance().removeEventListener(r.EventName.EVENT_CONTINUE_REWARD,this._continueReward,this),game.EventManager.getInstance().removeEventListener(r.EventName.EVENT_CONTINUE_REWARD_END,this._continueRewardEnd,this),game.EventManager.getInstance().removeEventListener(r.EventName.EVENT_STOP_WIN_NUM,this._stopWinNum,this),game.EventManager.getInstance().removeEventListener(r.EventName.EVENT_PLAY_WIN_NUM_BEGIN,this._updateWinNum,this),game.EventManager.getInstance().removeEventListener(r.EventName.EVENT_PLAY_SCORE_ANI,this._playRewardAni,this),game.EventManager.getInstance().removeEventListener(r.mouseEvent.FREE_RECONNECTION_DATA,this.freeReconnetion,this),game.EventManager.getInstance().removeEventListener(r.mouseEvent.OPACITY_END,this.getRewardDouble,this),game.EventManager.getInstance().removeEventListener(r.mouseEvent.ROLL_PLAY,this.rollPlay,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_STOP_SLOT_MACHINE_IMMEDIATELY,this.event_stop_slot_machine_immediately,this)},t.prototype.update=function(){this.m_isUpdate&&(this.m_money<this.owrNumber?(this.m_money+=this.m_speed,this._setLabMoney(this.m_money)):this.m_money>=this.owrNumber&&(this.m_isUpdate=!1,this.updataWinScroe(this.owrNumber),this.m_money+=this.m_speed,this._setLabMoney(this.owrNumber),slot.SoundMger.instance.stopEffect(r.SOUND_NAME.Textbox_Coin)))},t.instance=null,a([u(cc.Node)],t.prototype,"p_nodeLayoutWin",void 0),a([u(cc.Node)],t.prototype,"p_nodeOwrWin",void 0),a([u(cc.Node)],t.prototype,"p_nodeCountWin",void 0),a([u(cc.Node)],t.prototype,"p_nodeWinNum",void 0),a([u(cc.Node)],t.prototype,"coteBoard",void 0),a([u(cc.Node)],t.prototype,"horseBoard",void 0),a([u(sp.Skeleton)],t.prototype,"partilcq",void 0),a([u(sp.Skeleton)],t.prototype,"xx_light",void 0),a([u(sp.Skeleton)],t.prototype,"green2_front_partilce",void 0),a([u(sp.Skeleton)],t.prototype,"rightSpine",void 0),a([u(sp.Skeleton)],t.prototype,"rightSpine2",void 0),n=a([p],t)}(slot.BaseView);n.default=h,cc._RF.pop()},{"../GameEventName111000901":"GameEventName111000901","../main/CommonNumAtlas111000901":"CommonNumAtlas111000901","../tool/Tool":"Tool"}],JTChildManager111000901:[function(e,t,n){"use strict";cc._RF.push(t,"5719b+lJVtDfYSZeMtE0kix","JTChildManager111000901");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../SpinSlotViewExtend111000901"),r=function(e){function t(){return e.call(this)||this}return i(t,e),t.prototype.registerClassAlias=function(){return this.registerClass(slot.JTChildFactory.SCROLLER_TYPE,slot.JTScroller),this.registerClass(slot.JTChildFactory.ITEMRENDER_TYPE,a.default),this.registerClass(slot.JTChildFactory.GIRD_TYPE,slot.JTSkinnableGridRender),this.registerClass(slot.JTChildFactory.SCATTER_TYPE,slot.JTScatterGridRender),this.registerClass(slot.JTChildFactory.LINE_TYPE,slot.JTSkinnableRuntimeLineAnimationRender),this},t.prototype.changedLine=function(t,n){e.prototype.changedLine.call(this,t,n)},t}(slot.JTChildFactory);n.default=r,cc._RF.pop()},{"../SpinSlotViewExtend111000901":"SpinSlotViewExtend111000901"}],JTLayerManager111000901:[function(e,t,n){"use strict";cc._RF.push(t,"aa69cmSY1FEmpzsFRlItGKh","JTLayerManager111000901");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){function t(){return e.call(this)||this}return i(t,e),t.prototype.initialize=function(e){this.addChildNode(slot.JTLayerFactory.EFFECT_BELOW_CONTAINER,e);var n=this.addChildNode(slot.JTLayerFactory.LAYER_SORT_SCATTER_STOP_CONTAINER,e),o=this.addChildNode(slot.JTLayerFactory.SCATTER_BLACK_BACK_GROUND,e);this.addChildNode(slot.JTLayerFactory.SKIN_LOADER_CONTAINER,e);var i=this.addChildNode(slot.JTLayerFactory.SCROLLER_MASK_CONTAINER,e);this.addChildNode(slot.JTLayerFactory.SCROLLER_CONTAINER,i);var a=this.addChildNode(slot.JTLayerFactory.LAYER_SORT_SCATTER_PLAY_CONTAINER,e),r=this.addChildNode(slot.JTLayerFactory.LAYER_SORT_STOP_RENDER,e),s=this.addChildNode(slot.JTLayerFactory.SCOLLER_GROUP_BLACK_BACK_GROUND,e),c=(this.addChildNode(t.FRAME_IMAGE_CONTAINER,e),this.addChildNode(slot.JTLayerFactory.LAYER_SORT_PLAY_RENDER,e));this.addChildNode(slot.JTLayerFactory.LINE_CONTAINER,e),this.addChildNode(slot.JTLayerFactory.EFFECT_ABOVE_CONTAINER,e),this.addChildNode(slot.JTLayerFactory.LINE_NUMBER_CONTAINER,e),i.launch(e),s.setup(e.config.getWidth(),e.config.getHeight(),100),o.setup(e.config.getWidth(),e.config.getHeight(),100),n.setupMask(e.config.getWidth(),e.config.getHeight()),a.setupMask(e.config.getWidth(),e.config.getHeight()),r.setupMask(e.config.getWidth(),e.config.getHeight()),c.setupMask(e.config.getWidth(),e.config.getHeight())},t.prototype.registerClassAlias=function(){return this.registerClass(slot.JTLayerFactory.EFFECT_BELOW_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.SCROLLER_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.LINE_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.GIRD_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.SCROLLER_MASK_CONTAINER,slot.JTScrollerGroupMask),this.registerClass(slot.JTLayerFactory.EFFECT_ABOVE_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.SCATTER_GRID_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.SKIN_LOADER_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.SCOLLER_GROUP_BLACK_BACK_GROUND,slot.JTBlackBackGround),this.registerClass(slot.JTLayerFactory.LAYER_SORT_PLAY_RENDER,slot.JTLayerSortMaskContainer),this.registerClass(slot.JTLayerFactory.LAYER_SORT_STOP_RENDER,slot.JTLayerSortMaskContainer),this.registerClass(slot.JTLayerFactory.LAYER_SORT_SCATTER_PLAY_CONTAINER,slot.JTLayerSortMaskContainer),this.registerClass(slot.JTLayerFactory.LAYER_SORT_SCATTER_STOP_CONTAINER,slot.JTLayerSortMaskContainer),this.registerClass(slot.JTLayerFactory.SCATTER_BLACK_BACK_GROUND,slot.JTBlackBackGround),this.registerClass(slot.JTLayerFactory.LINE_NUMBER_CONTAINER,slot.JTGComponent),this.registerClass(t.FRAME_IMAGE_CONTAINER,slot.JTGComponent),this},t}(slot.JTLayerFactory);n.default=a,cc._RF.pop()},{}],JTLogicFactroy111000901:[function(e,t,n){"use strict";cc._RF.push(t,"045e8hMhx1Mv6JCUAsS9oLb","JTLogicFactroy111000901");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("./JTTest111000901"),s=cc._decorator,c=s.ccclass,l=(s.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.adjustFlowOptions=function(){this.childOption(r.default,slot.JTTaskPriority.JTCONVERT_PLAYLINES-1)},a([c],t)}(slot.JTLogicFactroy));n.default=l,cc._RF.pop()},{"./JTTest111000901":"JTTest111000901"}],JTTest111000901:[function(e,t,n){"use strict";cc._RF.push(t,"fc79arM6IJHrZhh+K3BgNv1","JTTest111000901");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../GameEventName111000901"),s=cc._decorator,c=s.ccclass,l=(s.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.addEventListenner=function(){},t.prototype.runningTask=function(){this.caculate(),this.nextStep()},t.prototype.caculate=function(){this.addStepTask(r.mouseEvent.ROLL_END_STEP_TASK)},a([c],t)}(slot.JTPerformanceTask));n.default=l,cc._RF.pop()},{"../../GameEventName111000901":"GameEventName111000901"}],LanguageInfo111000901:[function(e,t,n){"use strict";cc._RF.push(t,"a7534kriytEJZ/5P6CpM60F","LanguageInfo111000901");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this)},a([s],t)}(slot.LanguageInfoBase));n.default=c,cc._RF.pop()},{}],LanguageInfoTest:[function(e,t,n){"use strict";cc._RF.push(t,"6b3c9HNNWhAPZm6dSW28G1z","LanguageInfoTest");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),a([s],t)}(slot.LanguageInfoBase));n.default=c,cc._RF.pop()},{}],Main111000901:[function(e,t,n){"use strict";cc._RF.push(t,"57d00zdnbpIl73C/PZZzTrK","Main111000901");var o,i,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.UICF=n.UIID=void 0;var s,c=cc._decorator,l=c.ccclass,p=(c.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),console.log(">>>>>>>>>>>>>>>>>>>>>>>>>>>>>>"),game.BaseUIConf.getInstance().mergeUIConf(n.UICF);var t=game.BaseUIConf.getInstance().getUICF();game.UIManager.getInstance().initUIConf(t)},r([l],t)}(slot.MainView));n.default=p,function(e){e[e.BONUS_GAME_POPUP=210101]="BONUS_GAME_POPUP",e[e.FREE_GAME_RESULT=210102]="FREE_GAME_RESULT"}(s=n.UIID||(n.UIID={})),n.UICF=((i={})[s.BONUS_GAME_POPUP]={bundleName:"game_111000901",path:"prefabs/bonusGame/bonusGame",preventKeyboard:!0,preventTouch:!1,quickClose:!1,cache:!0,showType:game.UIShowTypes.UI_FULLSCREEN,openAni:game.UIDefAni.UI_NONE,closeAni:game.UIDefAni.UI_NONE,zOrder:slot.LayerManage.tip},i[s.FREE_GAME_RESULT]={bundleName:"game_111000901",path:"prefabs/freeGameResult/freeGameResult",preventKeyboard:!0,preventTouch:!1,quickClose:!1,cache:!0,showType:game.UIShowTypes.UI_FULLSCREEN,openAni:game.UIDefAni.UI_NONE,closeAni:game.UIDefAni.UI_NONE,zOrder:slot.LayerManage.tip},i),cc._RF.pop()},{}],NumAtlasLabel111000901:[function(e,t,n){"use strict";cc._RF.push(t,"0452atpXL1HG41C7ZUyJq7w","NumAtlasLabel111000901");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),a([s],t)}(slot.CommonNumAtlasBase));n.default=c,cc._RF.pop()},{}],ParticleSpriteFramesRefresh:[function(e,t,n){"use strict";cc._RF.push(t,"6419eyxf2tGuaDKiPegRioS","ParticleSpriteFramesRefresh");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.atlas=null,t.aniFps=15,t.ps=null,t.index=0,t.count=0,t.spriteArray=[],t}return i(t,e),t.prototype.onLoad=function(){this.ps||(this.ps=this.node.getComponent(cc.ParticleSystem)),this.spriteArray=this.atlas.getSpriteFrames(),this.count=this.spriteArray.length,this.schedule(this.refreshSprite,1/this.aniFps,cc.macro.REPEAT_FOREVER)},t.prototype.refreshSprite=function(){this.index>=this.count&&(this.index=0),this.ps.spriteFrame=this.spriteArray[this.index],this.index++},a([c({type:cc.SpriteAtlas,tooltip:"\u56fe\u96c6\u8d44\u6e90"})],t.prototype,"atlas",void 0),a([c({type:cc.Integer,tooltip:"\u6bcf\u79d2\u66ff\u6362\u7c92\u5b50\u8d34\u56fe\u591a\u5c11\u6b21"})],t.prototype,"aniFps",void 0),a([s],t)}(cc.Component);n.default=l,cc._RF.pop()},{}],SpinSlotViewExtend111000901:[function(e,t,n){"use strict";cc._RF.push(t,"32be0vc0edONqUu4Uh58X3x","SpinSlotViewExtend111000901");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../GameEventName111000901"),r=e("../tool/Tool"),s=e("./_slotFrameAniViewNodeCtrl"),c=function(e){function t(){var t=e.call(this)||this;return t._slotFrameAniView=null,t._slotFrameAniViewSign="___SLOT_FRAME_ANI_VIEW_SIGN",t.ID=null,t.lightFrame=null,t.lineNode=null,t.isBlur=!0,t.isFade=!0,t.isFadeMask=!1,t.skinLoader.skeletonNode.scale=1,t}return i(t,e),t.prototype.onPlayAnimation=function(){if(this.data>=10){this.setAnimation(slot.JTGLoaderAssetType.Skeleton,"spawn");var e=this.skinLoader.skeletonNode.getComponent(sp.Skeleton);e.setCompleteListener(function(){e.setAnimation(0,"idle",!1)}),slot.SoundMger.instance.playEffect(a.SOUND_NAME.Free_Add_Sym,!1)}else this.setAnimation(slot.JTGLoaderAssetType.Skeleton,"win")},t.prototype.onStopAnimation=function(){this._recoverSlotFrameAniView()},t.prototype.onPlayRewardsAnimation=function(){},t.prototype.onStopRewardsAnimation=function(){t._rewardsView&&t._rewardsView.removeFromParent()},t.prototype._getRewardsAnimation=function(){},t.prototype.addEffectElement=function(){var e=cc.scaleTo(.5,0),t=cc.callFunc(function(){this.skinLoader.spriteNode.opacity=0,this.skinLoader.spriteNode.scale=1,this.playBombAni()}.bind(this));this.skinLoader.spriteNode.runAction(cc.sequence(e,t))},t.prototype.playBombAni=function(){var e=this,t=slot.SlotMachineView.instance.node.getChildByName("effectNode"+this.index).getChildByName("bomb").getComponent(cc.Animation);t.node.opacity=255,t.play("bomb"),t.on("stop",function(){e.skinLoader.spriteNode.opacity=255,t.opacity=0},this)},t.prototype.addDataSpine=function(){var e=slot.SlotMachineView.instance.node.getChildByName("effectNode"+this.index);e.getComponent(s.default).changeSpine(this.data),e.getChildByName("spine").opacity=255},t.prototype._showFrameAniView=function(e,t,n,o){var i=this;void 0===n&&(n=null),void 0===o&&(o=null),game.ResLoader.getInstance().loadRes("prefabs/gameItem/_slotFrameAniViewNode",function(a,c){var l,p;if(!a){var u=cc.instantiate(c);i.lineNode=u.getChildByName("lineNode"),i.lineNode.name="lineNode"+t,e.node.addChild(u,t+2,"effectNode"+t),u.getComponent(s.default).init(t);var h=e.getPosByIndex(t);u.y=h.y,u.x=h.x,10==i.data&&1==(null===(p=null===(l=r.default.respData)||void 0===l?void 0:l.state)||void 0===p?void 0:p.state)&&i.addDataSpine(),35==t&&"function"==typeof o&&o(),"function"==typeof n&&n(u)}},"game_"+core.Global.clientGameId)},t.prototype._getSlotFrameAniView=function(){return this._slotFrameAniView?this._slotFrameAniView:(this._slotFrameAniView=new cc.Node,new slot.AniParam(slot.ANIMATION_TYPE.SKELETON,"skeleton/iconFadeoutFx/iconFadeoutFX",slot.GData.bundleName,"animation"),this._slotFrameAniView)},t.prototype.playAnimaiton=function(){},t.prototype.animationSpineNodeCtrl=function(){},t.prototype.addAnimationBeforeWin=function(){},t.prototype.beforeWinSpineNodeCtrl=function(){},t.prototype.addLightBg=function(){},t.prototype.setLightBgOpacity=function(e){this.lightFrame&&(this.lightFrame.opacity=e)},t.prototype.addLineToNode=function(e){var t=slot.SlotMachineView.instance.node.getChildByName("effectNode"+this.index),n=null;if(t){n=null,n=t.getChildByName("lineNode"+this.index)?t.getChildByName("lineNode"+this.index):slot.SlotMachineView.instance.node.getChildByName("lineNode"+this.index);var o=r.default.getPosByOtherNode(n,slot.SlotMachineView.instance.node);n.parent=slot.SlotMachineView.instance.node,n.setPosition(o),n.zIndex=50;for(var i=1;i<e.length;i++)n.getChildByName(e[i])?n.getChildByName(e[i]).opacity=255:e[i]}else console.error("ywb","effectNode"+this.index)},t.prototype.changeData=function(e){this.data=e},t.prototype._recoverSlotFrameAniView=function(){this._slotFrameAniView&&(this._slotFrameAniView.removeFromParent(),this._slotFrameAniView.active=!1,this._slotFrameAniView=null)},t._rewardsView=null,t}(slot.SpinSlotView);n.default=c,cc._RF.pop()},{"../GameEventName111000901":"GameEventName111000901","../tool/Tool":"Tool","./_slotFrameAniViewNodeCtrl":"_slotFrameAniViewNodeCtrl"}],Tool:[function(e,t,n){"use strict";cc._RF.push(t,"ff1f8UR+3xIJ6t3h7aVgrrn","Tool"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../roller/_slotFrameAniViewNodeCtrl"),i=function(){function e(){}return e.cutRepeatdataHandle=function(e,t,n){var o=!0;return e.forEach(function(e){e==t&&(o=!1)}),n.forEach(function(e){e==t&&(o=!1)}),o},e.otherOneDataHandle=function(e){var t=!0;return e%6==0&&(t=!1),t},e.otherTwoDataHandle=function(e){var t=!0;return(e-1)%6==0&&(t=!1),t},e.drawLineDataHandle=function(e,t){void 0===t&&(t=null);var n,o=((n=t||this.respData.updateList[0].value.handleState.game_10017.data.resultList)[e].spinResult.lineResult,n[e].crushFixedGophersGrid),i=[],a=[],r=[];o.forEach(function(e){r.push(e.pos)}),r.length>0&&i.push(r);for(var s=0;s<i.length;s++){var c=i[s];a.push(this.lineDataPush(c))}return a},e.changeData=function(e,t,n){void 0===n&&(n=null);for(var o=[],i=0;i<e.length;i++){var a=e[i];a==t||a==n||o.push(a)}return o},e.putTwoDataMakeUp=function(e,t){for(var n=[],o=0;o<e.length;o++){var i=e[o];n.push(i)}for(o=0;o<t.length;o++)i=t[o],n.push(i);return n},e.putInTwoDataCheckRelation=function(e,t){for(var n=!1,o=0;o<e.length;o++)this.checkOneDataWithLine(Number(e[o]),t)&&(n=!0);return n},e.checkOneDataWithLine=function(e,t){var n=this,o=!1;return t.forEach(function(t){e+7!==t&&e-7!==t?e-1===t&&n.otherTwoDataHandle(e)?o=!0:e+1===t&&n.otherOneDataHandle(e)&&(o=!0):o=!0}),o},e.getAllDataInRoller=function(){for(var e=[],t=0;t<60;t++){var n=slot.SlotMachineView.instance.scroller.getRenderByIndex(t);n&&e.push(n)}return e},e.lineDataPush=function(e){var t=[];console.log("ywbzzzzzzzzzzzzzzz",e);for(var n=0;n<e.length;n++){var o=e[n];t.push(this.checkOneDataWithSelfLine(o,e))}return t},e.checkOneDataWithSelfLine=function(e,t){var n=this,o=[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],i=[];t.forEach(function(t){var i=t;e+6===i?o[2]=!0:e-6===i?o[1]=!0:e-1===i&&n.otherTwoDataHandle(e)?o[0]=!0:e+1===i&&n.otherOneDataHandle(e)&&(o[3]=!0)}),t.forEach(function(t){var i=t;e-5===i&&!o[1]&&n.otherOneDataHandle(e)&&(o[4]=!0),e-5===i&&!o[3]&&n.otherOneDataHandle(e)&&(o[8]=!0),e+7===i&&!o[2]&&n.otherOneDataHandle(e)&&(o[5]=!0),e+7===i&&!o[3]&&n.otherOneDataHandle(e)&&(o[9]=!0),e-7===i&&!o[1]&&n.otherTwoDataHandle(e)&&(o[6]=!0),e-7===i&&!o[0]&&n.otherTwoDataHandle(e)&&(o[10]=!0),e+5===i&&!o[2]&&n.otherTwoDataHandle(e)&&(o[7]=!0),e+5===i&&!o[0]&&n.otherTwoDataHandle(e)&&(o[11]=!0)});var a=slot.SlotMachineView.instance.scroller.getRenderByIndex(e);return i.push(a),o[4]&&i.push("specialDownLeftCurved2"),o[5]&&i.push("specialDownRightCurved2"),o[8]&&i.push("specialDownLeftCurved1"),o[9]&&i.push("specialDownRightCurved1"),o[6]&&(o[4]||(o[3]?i.push("shortLeft2"):i.push("downLeftCurved"))),o[7]&&(o[5]||(o[3]?i.push("shortRight2"):i.push("downRightCurved"))),o[10]&&(o[11]||(o[2]?i.push("shorttop2"):i.push("topRightCurved"))),o[11]&&(o[10]||(o[2]?i.push("shorttop1"):i.push("topLeftCurved"))),o[0]||(o[10]||(o[1]?i.push("shorttop1"):i.push("topLeftCurved")),o[11]||(o[2]?i.push("shorttop2"):i.push("topRightCurved"))),o[1]||(o[6]||o[0]&&i.push("shortLeft1"),o[4]||(o[3]?i.push("shortLeft2"):i.push("downLeftCurved"))),o[2]||(o[5]||(o[3]?i.push("shortRight2"):i.push("downRightCurved")),o[7]||(o[0]?i.push("shortRight1"):i.push("topRightCurved"))),o[3]||(o[8]||(o[1]?i.push("shortDown1"):i.push("downLeftCurved")),o[9]||(o[2]?i.push("shortDown2"):i.push("downRightCurved"))),i},e.getFreeGameFreeTimePosAndTime=function(e){for(var t=this.respData.updateList[0].value.handleState.game_10017.data.resultList[e].spinResult.grid,n=[],o=0;o<t.length;o++){var i=t[o];if(i>=10){var a=slot.SlotMachineView.instance.getPosByIndex(o);10==i&&n.push([a,1]),11==i&&n.push([a,2]),12==i&&n.push([a,3])}}return n},e.bezierAct=function(e,t,n,o,i,a){void 0===a&&(a=null);var r=cc.v2(t.x,t.y),s=[cc.v2(e.x+i,e.y+o),r,cc.v2(t.x,t.y)],c=cc.bezierTo(n,s),l=cc.callFunc(function(){"function"==typeof a&&a()}.bind(this));e.runAction(cc.sequence(c,l))},e.getPosByOtherNode=function(e,t){if(e){var n=e.parent.convertToWorldSpaceAR(e.position);return t.convertToNodeSpaceAR(n)}return cc.v2(0,0)},e.getLineNumberByPos=function(e){e+=1;var t=Math.floor(e/6);return 0==e%6?t-1:t},e.getAcrossNumberByPos=function(e){for(var t=0;t<6;t++)for(var n=0;n<6;n++)if(e==6*n+t)return t},e.getLineDataByResp=function(t){for(var n=e.respData.updateList[0].value.handleState.game_10017.data.resultList[t].removePos,o=[],i=0;i<n.length;i++){for(var a=n[i],r=this.getLineNumberByPos(a)+1,s=!0,c=0;c<o.length;c++)r==o[c]&&(s=!1);s&&o.push(r)}return o},e.getFamaleMouseData=function(){var t=[];e.respData.updateList&&(t=1==e.respData.updateList[0].value.handleState.game_10017.data.resultList.length?e.respData.updateList[0].value.handleState.game_10017.data.resultList[e.totalEliminateTime].crushMoveGrid:e.respData.updateList[0].value.handleState.game_10017.data.resultList[e.totalEliminateTime].crushFixedGophersGrid);for(var n=[],o=0;o<t.length;o++){var i=t[o];8==i.elem&&n.push({pos:i.pos,index:o})}return n},e.getLastRespData=function(){var t=[];e.respData.updateList&&(t=e.respData.updateList[0].value.handleState.game_10017.data.resultList);var n=[];return 1==t.length?n=[]:t[0]&&(n=t[t.length-2].crushMoveGrid),n},e.fixedDataDeduplication=function(e){for(var t=[],n=[],o=0;o<e.length;o++){for(var i=e[o],a=!0,r=0;r<this.clearData.length;r++){var s=this.clearData[r];if(i.pos==s.pos){a=!1;break}}a&&t.push(i)}for(o=0;o<t.length;o++)i=t[o],n.push(i);for(o=0;o<this.clearData.length;o++)i=this.clearData[o],n.push(i);return this.clearData=n,t},e.playRollDataBgAni=function(){var e=slot.SlotMachineView.instance.node.parent.parent;this.getAcrossRollData(),e.stopAllActions(),this.setAllLightNode();var t=cc.delayTime(2),n=cc.callFunc(function(){this.setAllLightNode();for(var t=function(t){var i=cc.delayTime(.2*t),a=cc.callFunc(function(){var e=this.acrossNodeArr[t],n=[];t>=1&&(n=this.acrossNodeArr[t-1]),slot.SoundMger.instance.playEffect("Line_Turn",!1);for(var i=function(i){var a=e[i];t>=1&&(n[i].getChildByName("lightBg").active=!1);var r=a.getChildByName("spine").getComponent(sp.Skeleton);a.getComponent(o.default).data<9&&(r.setAnimation(0,"win",!1),r.setCompleteListener(function(){r.setAnimation(0,"win_idle",!0)})),a.getChildByName("lightBg").active=!0},a=0;a<e.length;a++)i(a)}.bind(n));e.runAction(cc.sequence(i,a))},n=this,i=0;i<6;i++)t(i)}.bind(this));e.runAction(cc.repeatForever(cc.sequence(t,n)))},e.setAllLightNode=function(){for(var e=0;e<this.acrossNodeArr.length;e++)for(var t=this.acrossNodeArr[e],n=0;n<t.length;n++){var i=t[n],a=i.getChildByName("spine").getComponent(sp.Skeleton);i.getComponent(o.default).data<9&&a.setToSetupPose(),i.getChildByName("lightBg").active=!1}},e.getAcrossRollData=function(){if(!this.acrossNodeArr[0])for(var e=0;e<6;e++){for(var t=[],n=0;n<6;n++){var o=this.falseRollNode[6*n+e];t.push(o)}this.acrossNodeArr.push(t)}},e.checkThisIsLastRemove=function(){var e=!1,t=this.respData.updateList[0].value.handleState.game_10017.data.resultList.length-1;return this.totalEliminateTime==t&&(e=!0),e},e.getNowTime=function(){return(new Date).valueOf()},e.isFutureTime=function(e){return this.getNowTime()<e},e.isPastTime=function(e){return this.getNowTime()>e},e.respData=null,e.totalEliminateTime=0,e.eliminateTime=0,e.clearData=[],e.falseRollNode=[],e.acrossNodeArr=[],e.scatterNumber=0,e.isInFreeGameResult=!1,e.testData=[[3,10,17,24,31],[4,5,6,7,14],[25,26,27,28,32],[1,8,15,22,29]],e.data=[[{low:5,high:0,unsigned:!0},{low:6,high:0,unsigned:!0},{low:11,high:0,unsigned:!0},{low:10,high:0,unsigned:!0},{low:12,high:0,unsigned:!0},{low:16,high:0,unsigned:!0},{low:15,high:0,unsigned:!0},{low:14,high:0,unsigned:!0},{low:13,high:0,unsigned:!0},{low:7,high:0,unsigned:!0},{low:17,high:0,unsigned:!0},{low:18,high:0,unsigned:!0},{low:19,high:0,unsigned:!0},{low:20,high:0,unsigned:!0},{low:21,high:0,unsigned:!0},{low:22,high:0,unsigned:!0},{low:23,high:0,unsigned:!0},{low:24,high:0,unsigned:!0},{low:25,high:0,unsigned:!0},{low:26,high:0,unsigned:!0},{low:27,high:0,unsigned:!0},{low:28,high:0,unsigned:!0},{low:29,high:0,unsigned:!0},{low:31,high:0,unsigned:!0},{low:32,high:0,unsigned:!0},{low:33,high:0,unsigned:!0}],[{low:2,high:0,unsigned:!0},{low:3,high:0,unsigned:!0},{low:4,high:0,unsigned:!0},{low:8,high:0,unsigned:!0},{low:9,high:0,unsigned:!0},{low:10,high:0,unsigned:!0}]],e}();n.default=i,cc._RF.pop()},{"../roller/_slotFrameAniViewNodeCtrl":"_slotFrameAniViewNodeCtrl"}],_slotFrameAniViewNodeCtrl:[function(e,t,n){"use strict";cc._RF.push(t,"14682g8rGBD5b3FbWfcqjak","_slotFrameAniViewNodeCtrl");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../GameEventName111000901"),s=e("../tool/Tool"),c=cc._decorator,l=c.ccclass,p=c.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.SkeletonData=[],t.wildSkeletonData=[],t.scatterSkeletonData=[],t.Skeleton=null,t.bgSkeleton=null,t.normalBgSkeleton=null,t.SpriteAtlas=null,t.bgSprite=null,t.rideLabel=null,t.data=null,t.zindex=null,t.lineNode=null,t.dataPos=null,t.isInRoolAni=!1,t}return i(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){game.EventManager.getInstance().addEventListener(r.mouseEvent.MOUSE_MOVE_END,this.mouseMoveEnd,this),game.EventManager.getInstance().addEventListener(r.mouseEvent.ROLL_END_CALL_BACK,this.clearSpine,this),game.EventManager.getInstance().addEventListener(r.mouseEvent.GET_REWARD_BEGAN,this.clearLine,this),game.EventManager.getInstance().addEventListener(r.mouseEvent.ROLL_PLAY,this.initAllNodeState,this),game.EventManager.getInstance().addEventListener(r.mouseEvent.GET_FREE_REWARD_BEGAN_MOUSE_BG,this.playInFreeAni,this),game.EventManager.getInstance().addEventListener(r.mouseEvent.ROLL_REWARD_END,this.playWildRideAni,this),game.EventManager.getInstance().addEventListener(r.mouseEvent.ROLL_ANI_START_WHO,this.roolAniStart,this),game.EventManager.getInstance().addEventListener(r.mouseEvent.ROLL_ANI_END,this.rollAniEnd,this),game.EventManager.getInstance().addEventListener(r.mouseEvent.TOP_ANI_START,this.topAniStart,this),game.EventManager.getInstance().addEventListener(r.mouseEvent.TOP_ANI_END,this.topAniEnd,this)},t.prototype.init=function(e){this.dataPos=e,this.zindex=this.node.zIndex;var t=s.default.getAcrossNumberByPos(e);this.lineNode=this.node.getChildByName("lineNode"+e),this.bgSprite.spriteFrame=this.SpriteAtlas.getSpriteFrame("wh_block_0"+(t+1))},t.prototype.mouseMoveEnd=function(){},t.prototype.playInFreeAni=function(){},t.prototype.roolAniStart=function(){var e=this;10!=this.data||this.isInRoolAni||1!=s.default.respData.state||(this.raiseZindex(),this.isInRoolAni=!0,this.playSpineAnimation("win",!1,function(){e.Skeleton.setAnimation(0,"win_idle",!0)}),this.playBgAnimation("duobao_bg2",!0))},t.prototype.rollAniEnd=function(){this.isInRoolAni=!1},t.prototype.topAniStart=function(){10==this.data&&this.playSpineAnimation("spawn",!0)},t.prototype.topAniEnd=function(){10==this.data&&this.playSpineAnimation("idle",!0)},t.prototype.initAllNodeState=function(){this.stopAllNodeAct();var e=this.node.getChildByName("lightBg");e.active=!1,e.opacity=0,this.node.zIndex=this.zindex,this.data=null,this.Skeleton.node.scale=.7,this.bgSprite.node.opacity=0,this.Skeleton.node.opacity=0,this.bgSkeleton.node.opacity=0,this.normalBgSkeleton.node.opacity=0,this.resumeZindex(),this.clearLine()},t.prototype.changeSpine=function(e){var t=this;0==this.Skeleton.node.opacity&&(this.data=e,e>=9?"zh"==slot.GData.curLanguage?this.Skeleton.skeletonData=9==e?this.wildSkeletonData[1]:this.scatterSkeletonData[1]:this.Skeleton.skeletonData=9==e?this.wildSkeletonData[0]:this.scatterSkeletonData[0]:(this.node.getChildByName("lightBg").opacity=255,this.Skeleton.skeletonData=this.SkeletonData[e-1]),10==e?(this.node.zIndex=91,s.default.scatterNumber++,slot.SoundMger.instance.playEffect(r.SOUND_NAME.Scatter,!1),this.playSpineAnimation("spawn",!1,function(){t.playSpineAnimation("idle",!0,"",!1)},!0),this.playBgAnimation("duobao_bg",!0)):9==e?(this.node.zIndex=90,this.playSpineAnimation("win_idle",!0),slot.SoundMger.instance.playEffect(r.SOUND_NAME.Wild_Win,!1),this.playBgAnimation("duobao_bg2",!0)):this.playNormalAnimation("win",!1))},t.prototype.playWildRideAni=function(){if(9==this.data){var e=s.default.respData.spinResult.lineResult.length>0;if(2==s.default.respData.state||e){this.raiseZindex(),this.playSpineAnimation("win",!1);var t=cc.scaleTo(.5,1),n=cc.callFunc(function(){var e=cc.instantiate(this.rideLabel);e.opacity=0,this.node.addChild(e,10,"rideLabelClone");var t=cc.fadeIn(.5);e.runAction(t)}.bind(this)),o=cc.rotateTo(.1,-10),i=cc.rotateTo(.2,10),a=cc.rotateTo(.1,0),c=cc.scaleTo(.5,.7),l=cc.callFunc(function(){var e=this;this.playSpineAnimation("win_idle",!0);var t=this.node.getChildByName("rideLabelClone"),n=s.default.getPosByOtherNode(t,this.node.parent);t.parent=this.node.parent,t.zIndex=999,t.setPosition(n),s.default.bezierAct(t,this.node.parent.getChildByName("rideNode"),.5,20,0,function(){var n=cc.delayTime(.1),o=cc.callFunc(function(){game.EventManager.getInstance().raiseEvent(r.mouseEvent.RIDE_ANI_IN_TARGET),t.destroy()}.bind(e));e.node.runAction(cc.sequence(n,o))})}.bind(this));this.Skeleton.node.runAction(cc.sequence(t,n,o,i,a,c,l))}}},t.prototype.raiseZindex=function(){this.node.zIndex=99},t.prototype.resumeZindex=function(){this.node.zIndex=this.zindex},t.prototype.playSpineAnimation=function(e,t,n,o){var i=this;void 0===n&&(n=null),void 0===o&&(o=null),o&&this.fadinAni(this.Skeleton.node),this.Skeleton.setAnimation(0,e,t),this.Skeleton.setCompleteListener(function(){i.Skeleton.setCompleteListener(null),"function"==typeof n&&n()})},t.prototype.playBgAnimation=function(e,t){this.fadinAni(this.bgSkeleton.node),this.bgSkeleton.setAnimation(0,e,t)},t.prototype.playNormalAnimation=function(e,t){var n=this;this.fadinAni(this.bgSprite.node),this.fadinAni(this.normalBgSkeleton.node),this.normalBgSkeleton.setAnimation(0,e,t),this.normalBgSkeleton.setCompleteListener(function(){n.normalBgSkeleton.setCompleteListener(null),"win"==e&&n.normalBgSkeleton.setAnimation(0,"win_loop",!0)})},t.prototype.fadinAni=function(e){e.opacity=255},t.prototype.stopAllNodeAct=function(){this.node.stopAllActions(),this.node.children.forEach(function(e){e.stopAllActions()})},t.prototype.clearSpine=function(){},t.prototype.clearLine=function(){this.lineNode.parent=this.node,this.lineNode.setPosition(cc.v2(0,0)),this.lineNode.zIndex=this.Skeleton.node.zIndex-1;for(var e=0;e<this.lineNode.children.length;e++)this.lineNode.children[e].opacity=0},t.prototype.onDestroy=function(){game.EventManager.getInstance().removeEventListener(r.mouseEvent.MOUSE_MOVE_END,this.mouseMoveEnd,this),game.EventManager.getInstance().removeEventListener(r.mouseEvent.ROLL_END_CALL_BACK,this.clearSpine,this),game.EventManager.getInstance().removeEventListener(r.mouseEvent.GET_REWARD_BEGAN,this.clearLine,this),game.EventManager.getInstance().removeEventListener(r.mouseEvent.ROLL_PLAY,this.initAllNodeState,this),game.EventManager.getInstance().removeEventListener(r.mouseEvent.ROLL_REWARD_END,this.playWildRideAni,this),game.EventManager.getInstance().removeEventListener(r.mouseEvent.ROLL_ANI_START,this.roolAniStart,this),game.EventManager.getInstance().removeEventListener(r.mouseEvent.ROLL_ANI_END,this.rollAniEnd,this),game.EventManager.getInstance().removeEventListener(r.mouseEvent.TOP_ANI_START,this.topAniStart,this),game.EventManager.getInstance().removeEventListener(r.mouseEvent.TOP_ANI_END,this.topAniEnd,this)},a([p([sp.SkeletonData])],t.prototype,"SkeletonData",void 0),a([p([sp.SkeletonData])],t.prototype,"wildSkeletonData",void 0),a([p([sp.SkeletonData])],t.prototype,"scatterSkeletonData",void 0),a([p(sp.Skeleton)],t.prototype,"Skeleton",void 0),a([p(sp.Skeleton)],t.prototype,"bgSkeleton",void 0),a([p(sp.Skeleton)],t.prototype,"normalBgSkeleton",void 0),a([p(cc.SpriteAtlas)],t.prototype,"SpriteAtlas",void 0),a([p(cc.Sprite)],t.prototype,"bgSprite",void 0),a([p(cc.Prefab)],t.prototype,"rideLabel",void 0),a([l],t)}(cc.Component);n.default=u,cc._RF.pop()},{"../GameEventName111000901":"GameEventName111000901","../tool/Tool":"Tool"}],animationCallBack:[function(e,t,n){"use strict";cc._RF.push(t,"9bb00SQ52hEKbE8wfIAbOem","animationCallBack");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../GameEventName111000901"),s=cc._decorator,c=s.ccclass,l=(s.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.start=function(){},t.prototype.animationStop=function(){game.EventManager.getInstance().raiseEvent(r.mouseEvent.ANIMATION_STOP_CALL_BACK)},a([c],t)}(cc.Component));n.default=l,cc._RF.pop()},{"../GameEventName111000901":"GameEventName111000901"}],boardCtrl:[function(e,t,n){"use strict";cc._RF.push(t,"e34c9c4bctH4ImoD8q1K7bX","boardCtrl");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../GameEventName111000901"),s=e("../main/CommonNumAtlas111000901"),c=e("../tool/Tool"),l=cc._decorator,p=l.ccclass,u=l.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.p_nodeWin=null,t.p_nodeWinAni=null,t.beishuk=null,t.beishukAni=null,t.mouseState=0,t.beishukStartPos=cc.v2(2,129),t.beishukParentNode=null,t.boardPos=cc.v2(0,0),t}return i(t,e),t.prototype.onLoad=function(){this.boardPos=cc.v2(this.node.x,this.node.y),this.beishukParentNode=this.beishuk.parent},t.prototype.start=function(){game.EventManager.getInstance().addEventListener(r.mouseEvent.GET_REWARD_BOARD_CALL,this.mouseEvent,this),game.EventManager.getInstance().addEventListener(r.mouseEvent.GET_REWARD_BEFOR,this.boardAndLaybelEvnt,this),game.EventManager.getInstance().addEventListener(r.mouseEvent.INIT_TO_FREE_GAME,this.beishukAnimation,this),game.EventManager.getInstance().addEventListener(r.mouseEvent.FREE_GAME_CLOSE,this.beishukBackAnimation,this),game.EventManager.getInstance().addEventListener(r.mouseEvent.NORMAL_RECONNECTION_DATA,this.reconnetion,this),game.EventManager.getInstance().addEventListener(r.mouseEvent.FREE_RECONNECTION_DATA,this.freeReconnetion,this),game.EventManager.getInstance().addEventListener(r.EventName.EVENT_STOP_WIN_NUM,this.mouseComeBackAni,this),game.EventManager.getInstance().addEventListener(r.EventName.FREE_GAME_OVER,this._onFreeGameOver,this)},t.prototype.freeReconnetion=function(e,t){var n;n=null==t.handleState.game_10017.data.resultList[0]?t.sumTimes:t.handleState.game_10017.data.resultList[t.handleState.game_10017.data.resultList.length-1].crushRate,this.node.opacity=255,this.p_nodeWin.string="*"+String(n),this.p_nodeWinAni.string="*"+String(n),this.mouseSpine("idle"),this.mouseState=2},t.prototype.reconnetion=function(e,t){var n=t.length;this.node.opacity=255,this.mouseState=1,this.mouseSpine("idle"),this.p_nodeWin.string="*"+String(n),this.p_nodeWinAni.string="*"+String(n)},t.prototype._onFreeGameOver=function(){this.mouseState=1,c.default.eliminateTime=0},t.prototype.mouseEvent=function(e,t){var n=this.node.getComponent(sp.Skeleton),o=this.beishuk.getComponent(sp.Skeleton),i=this.beishukAni.getComponent(sp.Skeleton),a=t+2;0==this.mouseState&&(this.node.opacity=255,n.timeScale=.5,i.setAnimation(0,"animation1",!1),slot.SoundMger.instance.playEffect(r.SOUND_NAME.Mtp_Appear,!1),this.mouseSpine("spawn",function(){n.timeScale=1})),2==this.mouseState&&(0==this.node.opacity&&(this.node.opacity=255,n.timeScale=.5,slot.SoundMger.instance.playEffect(r.SOUND_NAME.Mtp_Appear,!1),this.mouseSpine("spawn",function(){n.timeScale=1})),o.setAnimation(0,"animation2",!1),i.setAnimation(0,"animation1",!1)),1==this.mouseState&&(this.mouseSpine("collect"),i.setAnimation(0,"animation1",!1),o.setAnimation(0,"animation2",!1)),a>=6&&(a=6),slot.SoundMger.instance.playEffect("Mtp_Add_0"+a,!1),this.p_nodeWin.string="*"+String(t+2),this.p_nodeWinAni.string="*"+String(t+2),2!=this.mouseState&&(this.mouseState=1)},t.prototype.mouseSpine=function(e,t){void 0===t&&(t=null);var n=this.node.getComponent(sp.Skeleton);n.setAnimation(0,e,!1),n.setCompleteListener(function(){n.setCompleteListener(null),"idle"!=n.animation&&(n.setAnimation(0,"idle",!0),"function"==typeof t&&t())})},t.prototype.boardAndLaybelEvnt=function(){if(0!=this.mouseState){this.p_nodeWinAni.node.active=!0,this.p_nodeWinAni.node.stopAllActions(),this.p_nodeWinAni.node.setPosition(cc.v2(this.p_nodeWin.x,this.p_nodeWin.y+100)),slot.SoundMger.instance.playEffect(r.SOUND_NAME.Mtp_Effect,!1);var e=cc.scaleTo(.2,5),t=cc.moveBy(.2,cc.v2(0,300)),n=cc.moveBy(.5,cc.v2(0,-500)),o=cc.spawn(e,t),i=cc.callFunc(function(){this.mouseSpine("win"),this.p_nodeWinAni.node.active=!1}.bind(this));this.p_nodeWinAni.node.runAction(cc.sequence(o,n,i))}},t.prototype.beishukAnimation=function(){if(this.mouseState=2,0!=c.default.eliminateTime){var e=cc.scaleTo(.2,3),t=cc.moveBy(.1,cc.v2(0,15)),n=cc.moveBy(.1,cc.v2(0,-15)),o=cc.moveBy(.1,cc.v2(-15,0)),i=cc.moveBy(.1,cc.v2(15,0)),a=cc.moveBy(.1,cc.v2(0,15)),r=cc.moveBy(.1,cc.v2(0,-15)),s=cc.moveBy(.1,cc.v2(15,0)),l=cc.moveBy(.1,cc.v2(-15,0)),p=cc.callFunc(function(){this.mouseSpine("collect");var e=this.beishuk.parent.convertToWorldSpaceAR(this.beishuk.position),t=cc.Canvas.instance.node.convertToNodeSpaceAR(e),n=cc.Canvas.instance.node;this.beishuk.parent=n,this.beishuk.scale=1.2,this.beishuk.zIndex=slot.LayerManage.effect+1,this.beishuk.setPosition(cc.v2(t.x,t.y));var o=cc.scaleTo(.2,.6),i=cc.scaleTo(.2,.8);this.node.runAction(cc.sequence(o,i))}.bind(this)),u=cc.moveBy(.4,cc.v2(0,750)),h=cc.scaleTo(.2,.8,1.4),d=cc.scaleTo(.2,1.4,1.4),_=cc.sequence(h,d),m=cc.spawn(u,_),f=cc.callFunc(function(){}.bind(this));this.beishuk.runAction(cc.sequence(e,t,n,o,i,a,r,s,l,p,m,f))}},t.prototype.beishukBackAnimation=function(){if(0!=c.default.eliminateTime){var e=cc.moveBy(.4,cc.v2(0,-750)),t=cc.scaleTo(.2,.8,1.4),n=cc.scaleTo(.2,1.4,1.4),o=cc.sequence(t,n),i=cc.spawn(e,o),a=cc.callFunc(function(){this.beishuk.parent=this.beishukParentNode,this.beishuk.scale=2.7,this.beishuk.setPosition(cc.v2(this.beishukStartPos.x,this.beishukStartPos.y)),this.beishuk.zIndex=this.p_nodeWinAni.zIndex-1,this.p_nodeWinAni.zIndex=this.beishuk.zIndex+9}.bind(this));this.beishuk.runAction(cc.sequence(i,a))}},t.prototype.mouseComeBackAni=function(){if(2!=this.mouseState){var e=cc.moveBy(.1,cc.v2(0,20)),t=cc.moveBy(.2,cc.v2(0,-60)),n=cc.callFunc(function(){this.node.setPosition(this.boardPos),this.node.opacity=0,this.mouseState=0}.bind(this));this.node.runAction(cc.sequence(e,t,n))}},t.prototype.onDestroy=function(){game.EventManager.getInstance().removeEventListener(r.mouseEvent.GET_REWARD_AND_POP_TIME,this.mouseEvent,this),game.EventManager.getInstance().removeEventListener(r.mouseEvent.GET_REWARD_BEFOR,this.boardAndLaybelEvnt,this),game.EventManager.getInstance().removeEventListener(r.mouseEvent.INIT_TO_FREE_GAME,this.beishukAnimation,this),game.EventManager.getInstance().removeEventListener(r.mouseEvent.FREE_GAME_CLOSE,this.beishukBackAnimation,this),game.EventManager.getInstance().removeEventListener(r.mouseEvent.NORMAL_RECONNECTION_DATA,this.reconnetion,this),game.EventManager.getInstance().removeEventListener(r.EventName.EVENT_STOP_WIN_NUM,this.mouseComeBackAni,this),game.EventManager.getInstance().removeEventListener(r.EventName.FREE_GAME_OVER,this._onFreeGameOver,this)},a([u(s.default)],t.prototype,"p_nodeWin",void 0),a([u(s.default)],t.prototype,"p_nodeWinAni",void 0),a([u(cc.Node)],t.prototype,"beishuk",void 0),a([u(cc.Node)],t.prototype,"beishukAni",void 0),a([p],t)}(cc.Component);n.default=h,cc._RF.pop()},{"../GameEventName111000901":"GameEventName111000901","../main/CommonNumAtlas111000901":"CommonNumAtlas111000901","../tool/Tool":"Tool"}],bulletChatCtrl:[function(e,t,n){"use strict";cc._RF.push(t,"1097dZp6+BEH5A41VwSQWDl","bulletChatCtrl");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../tool/poolManager"),s=cc._decorator,c=s.ccclass,l=s.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.chatName=null,t.des=null,t.Sprite=null,t.SpriteAtlas=null,t.rate=0,t}return i(t,e),t.prototype.start=function(){},t.prototype.chatAni=function(){this.rate=slot.MathUtil.getRandomRange(190,210);var e=this.getTimeByRate(-1400),t=cc.moveBy(e,cc.v2(-1400,0)),n=cc.callFunc(function(){r.default.getInstance().onEnemyKilled(this.node)}.bind(this));this.node.runAction(cc.sequence(t,n))},t.prototype.init=function(e,t,n){void 0===n&&(n=null);var o=null;t?(o=slot.MathUtil.getRandomRange(t[0],t[1]),this.node.x=400,this.node.y=o):(this.node.x=n.x,this.node.y=n.y),this.node.stopAllActions(),this.chatAni(),this.node.zIndex=10,e?this.chatName.node.color=(new cc.Color).fromHEX(e.color):console.error("ywb",e),this.chatName.string=e.name,this.des.string=e.describe,""!=e.icon?this.Sprite.spriteFrame=this.SpriteAtlas.getSpriteFrame(e.icon):this.Sprite.node.width=0},t.prototype.getTimeByRate=function(e){return Math.abs(e)/this.rate},a([l(cc.Label)],t.prototype,"chatName",void 0),a([l(cc.Label)],t.prototype,"des",void 0),a([l(cc.Sprite)],t.prototype,"Sprite",void 0),a([l(cc.SpriteAtlas)],t.prototype,"SpriteAtlas",void 0),a([c],t)}(cc.Component);n.default=p,cc._RF.pop()},{"../tool/poolManager":"poolManager"}],bulletChatManager:[function(e,t,n){"use strict";cc._RF.push(t,"1eedfsxEw1A250u8AAAqAwg","bulletChatManager");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("./poolManager"),s=cc._decorator,c=s.ccclass,l=(s.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.addBulletChat=function(e,t,n){var o=[cc.v2(462,540),cc.v2(730,542),cc.v2(730,580),cc.v2(674,633),cc.v2(431,631),cc.v2(456,-182),cc.v2(435,-307),cc.v2(681,-178),cc.v2(722,-305)],i=[cc.v2(497,592),cc.v2(470,524),cc.v2(487,452),cc.v2(497,383),cc.v2(874,600),cc.v2(723,527),cc.v2(812,448),cc.v2(861,379),cc.v2(479,-278),cc.v2(489,-376),cc.v2(469,-452),cc.v2(750,-278),cc.v2(740,-386),cc.v2(753,-500)];if(0==e){var a=slot.MathUtil.getRandomRange(0,23,!0);(u=n.json[a])||console.error("ywb",u,a,n.json),r.default.getInstance().createEnemy(t,u,[-230,-350])}if(1==e)for(var s=0;s<2;s++){var c=23;n.json.length&&(c=n.json.length),a=slot.MathUtil.getRandomRange(0,c-2,!0),(u=n.json[a])||console.error("ywb",u,a,n.json);var l=slot.MathUtil.getRandomRange(-230,-350),p=slot.MathUtil.getRandomRange(400,500);r.default.getInstance().createEnemy(t,u,null,cc.v2(p,l))}if(2==e)for(s=0;s<o.length;s++){a=slot.MathUtil.getRandomRange(0,23,!0);var u=n.json[a],h=o[s];u||console.error("ywb",u,a,n.json),r.default.getInstance().createEnemy(t,u,null,h)}if(3==e)for(s=0;s<i.length;s++)a=slot.MathUtil.getRandomRange(0,12,!0),u=n.json[a],h=i[s],u||console.error("ywb",u,a,n.json),r.default.getInstance().createEnemy(t,u,null,h);if(4==e)for(s=0;s<2;s++)a=slot.MathUtil.getRandomRange(0,23,!0),u=n.json[a],l=slot.MathUtil.getRandomRange(-230,-350),p=slot.MathUtil.getRandomRange(400,500),u||console.error("ywb",u,a,n.json),r.default.getInstance().createEnemy(t,u,null,cc.v2(p,l))},a([c],t)}(cc.Component));n.default=l,cc._RF.pop()},{"./poolManager":"poolManager"}],coreCote:[function(e,t,n){"use strict";cc._RF.push(t,"33955n68BxK/4tjjhxEYWXV","coreCote");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../GameEventName111000901"),s=cc._decorator,c=s.ccclass,l=(s.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.animationName=["a","b","c"],t.totalCoin=0,t}return i(t,e),t.prototype.start=function(){game.EventManager.getInstance().addEventListener(r.mouseEvent.GET_RAWARD_FOOD,this.coreCoteListener,this),game.EventManager.getInstance().addEventListener(r.EventName.EVENT_STOP_WIN_NUM,this.rollerStart,this),game.EventManager.getInstance().addEventListener(r.mouseEvent.NORMAL_RECONNECTION_DATA,this.reconnetion,this),game.EventManager.getInstance().addEventListener(r.mouseEvent.FREE_RECONNECTION_DATA,this.freeReconnetion,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_UPDATE_WIN_ANI_END,this.playStrawberryBg,this)},t.prototype.freeReconnetion=function(e,t){t=t.handleState.game_10017.data.resultList,this.reconnetion(e,t)},t.prototype.reconnetion=function(e,t){for(var n=Number(slot.SlotUtils.formatNumber(slot.SpinManager.instance.betCost)),o=0,i=t,a=0;a<i.length;a++){var r=i[a],s=Number(r.spinResult.spinCoin);this.totalCoin+=s}this.totalCoin/n>=5&&(o=1);var c="ib_bar_"+this.animationName[o]+"_"+this.node.name;this.setNodeOpacity(255),this.coreCoteSpineCtrl(c)},t.prototype.coreCoteListener=function(e,t,n,o){var i=0,a=Number(slot.SlotUtils.formatNumber(o[t].spinResult.spinCoin)),r=Number(slot.SlotUtils.formatNumber(slot.SpinManager.instance.betCost));this.totalCoin+=a,this.totalCoin/r>=5&&(i=1);var s="ib_bar_"+this.animationName[i]+"_"+this.node.name;this.setNodeOpacity(255),this.coreCoteSpineCtrl(s)},t.prototype.rollerStart=function(){this.totalCoin=0,this.fadOutAnimation()},t.prototype.fadOutAnimation=function(){var e=cc.fadeOut(.5),t=cc.callFunc(function(){}.bind(this));this.node.runAction(cc.sequence(e,t))},t.prototype.playStrawberryBg=function(){slot.SoundMger.instance.playEffect(r.SOUND_NAME.Prize_Big_End,!1),this.coreCoteSpineCtrl("ib_bar_"+this.animationName[2]+"_"+this.node.name)},t.prototype.setNodeOpacity=function(e){this.node.opacity=e},t.prototype.coreCoteSpineCtrl=function(e){var t=this.node.getComponent(sp.Skeleton);t.setAnimation(0,e,!1),t.setEndListener(function(){}.bind(this))},t.prototype.onDestroy=function(){game.EventManager.getInstance().removeEventListener(r.mouseEvent.GET_REWARD_AND_POP_TIME,this.coreCoteListener,this),game.EventManager.getInstance().removeEventListener(r.EventName.EVENT_STOP_WIN_NUM,this.rollerStart,this),game.EventManager.getInstance().removeEventListener(r.mouseEvent.FREE_RECONNECTION_DATA,this.freeReconnetion,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_UPDATE_WIN_ANI_END,this.playStrawberryBg,this)},a([c],t)}(cc.Component));n.default=l,cc._RF.pop()},{"../GameEventName111000901":"GameEventName111000901"}],femaleMouseCtrl:[function(e,t,n){"use strict";cc._RF.push(t,"fcc38uaRO5LP6DnsWIZ4aZj","femaleMouseCtrl");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../GameEventName111000901"),s=e("../tool/Tool"),c=e("./mouseBase"),l=cc._decorator,p=l.ccclass,u=l.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.test=null,t.test2=null,t.mouseNumber=null,t.isInRollSpeed=!1,t}return i(t,e),t.prototype.start=function(){game.EventManager.getInstance().addEventListener(r.mouseEvent.CLEAR_MOUSE_MOVE,this.clearMouseMove,this),game.EventManager.getInstance().addEventListener(r.mouseEvent.GET_REWARD_BEGAN,this.checkIsPrizeAndPlayAni,this),game.EventManager.getInstance().addEventListener(r.mouseEvent.GET_FREE_REWARD_BEGAN_MOUSE_BG,this.playInFreeAni,this),game.EventManager.getInstance().addEventListener(r.mouseEvent.ROLL_ANI_START_WHO,this.playRollAniEvent,this),game.EventManager.getInstance().addEventListener(r.mouseEvent.PLAY_ROLL_ANI_BEGAN,this.playRollAni,this),game.EventManager.getInstance().addEventListener(r.mouseEvent.PLAY_ROLL_ANI_END,this.stopRollAni,this),game.EventManager.getInstance().addEventListener(r.mouseEvent.ROLL_ANI_END,this.rollAniEnd,this),game.EventManager.getInstance().addEventListener(r.mouseEvent.MOUSE_MOVE_POS,this.rollStartMouseMove,this)},t.prototype.checkIsPrizeAndPlayAni=function(){var e=this;if(this.getMoveDataArrByRespForNormal(s.default.totalEliminateTime)!=this.currentRewardPos){var t=0;this.mouseSpineCtrl("win",!1,function(){if(0==t){var n=cc.delayTime(.2),o=cc.callFunc(function(){this.mouseSpineCtrl("win",!1),t++}.bind(e));e.mouse.runAction(cc.sequence(n,o))}})}},t.prototype.playRollAniEvent=function(e,t){t>s.default.getLineNumberByPos(this.currentPos)&&!this.isInRollSpeed&&(this.playRollAni(),this.isInRollSpeed=!0)},t.prototype.playRollAni=function(){this.mouseBgRotateSpineCtrl("animation_back_loop",!0),this.mouseBigPlistSpineCtrl("animation_front_loop",!0),this.scaleAnimation()},t.prototype.stopRollAni=function(){this.stopScaleAnimation(),this.wild_win.active=!1,this.wild_win_front.active=!1},t.prototype.rollAniEnd=function(){this.stopScaleAnimation(),this.wild_win_front.active=!1,this.wild_win.active=!1,this.isInRollSpeed=!1},t.prototype.playInFreeAni=function(){var e=this;this.mouseBgRotateSpineCtrl("animation_back",!1,function(){e.wild_win.active=!1}),this.mouseBigPlistSpineCtrl("animation_front",!1,function(){e.wild_win_front.active=!1})},t.prototype.rollStartMouseMove=function(){2==s.default.respData.state&&this.clearMouseMove("\u514d\u8d39\u6e38\u620f\u5185\u79fb\u52a8",s.default.totalEliminateTime,!0)},t.prototype.clearMouseMove=function(e,t,n){var o=this;if(void 0===n&&(n=null),this.rate=500,null!=this.mouseNumber){var i=0;n?i=this.getMoveDataArrByRespForFree():(this.changeSelfIndex(t),i=this.getMoveDataArrByRespForNormal(t)),this.mouseMove(i,function(){},function(){var e=cc.delayTime(0),t=cc.delayTime(.2),n=cc.callFunc(function(){this.checkThatTimeIsLastTime(),i!=this.currentPos&&(this.mouseLightSpineCtrl(!1),this.mouseBgSpineCtrl("wild_move_back",!1))}.bind(o)),a=cc.callFunc(function(){game.EventManager.getInstance().raiseEvent(r.mouseEvent.MOUSE_MOVE_END)}.bind(o));o.node.runAction(cc.sequence(e,n,t,a))},function(e){s.default.addClearBgLight(i-1);for(var t=0;t<e[0];t++){var n=cc.delayTime(e[1]+t*e[1]),a=cc.callFunc(function(){slot.SoundMger.instance.playEffect(r.SOUND_NAME.Role_Win_Move,!1)}.bind(o));o.node.runAction(cc.sequence(n,a))}},function(){console.error("ywb\u6d88\u9664\u540e\u5730\u9f20\u79fb\u52a8",i)})}},t.prototype.checkThatTimeIsLastTime=function(){var e=s.default.respData.updateList[0].value.handleState.game_10017.data.resultList;this.test2.string=String(s.default.totalEliminateTime)+"-"+String(e.length-1),s.default.totalEliminateTime==e.length-1&&this.changeSelfIndex(s.default.totalEliminateTime,!0)},t.prototype.changeSelfIndex=function(e,t){void 0===t&&(t=null);var n,o=s.default.respData.updateList[0].value.handleState.game_10017.data.resultList;n=t?o[e].crushMoveGrid:o[e].crushFixedGophersGrid;for(var i=0;i<n.length;i++)n[i].pos==this.currentPos&&(this.mouseNumber=i,this.test.string=String(i))},t.prototype.getMoveDataArrByRespForNormal=function(e){return s.default.respData.updateList[0].value.handleState.game_10017.data.resultList[e].crushMoveGrid[this.mouseNumber].pos},t.prototype.getMoveDataArrByRespForFree=function(){return s.default.respData.updateList[0].value.handleState.game_10017.data.fixedGophersGrid[this.mouseNumber].pos},t.prototype.onDestroy=function(){game.EventManager.getInstance().removeEventListener(r.mouseEvent.CLEAR_MOUSE_MOVE,this.clearMouseMove,this),game.EventManager.getInstance().removeEventListener(r.mouseEvent.GET_REWARD_BEGAN,this.checkIsPrizeAndPlayAni,this),game.EventManager.getInstance().removeEventListener(r.mouseEvent.GET_FREE_REWARD_BEGAN_MOUSE_BG,this.playInFreeAni,this),game.EventManager.getInstance().removeEventListener(r.mouseEvent.ROLL_ANI_START_WHO,this.playRollAniEvent,this),game.EventManager.getInstance().removeEventListener(r.mouseEvent.ROLL_ANI_END,this.rollAniEnd,this),game.EventManager.getInstance().removeEventListener(r.mouseEvent.MOUSE_MOVE_POS,this.rollStartMouseMove,this),game.EventManager.getInstance().removeEventListener(r.mouseEvent.PLAY_ROLL_ANI_BEGAN,this.playRollAni,this),game.EventManager.getInstance().removeEventListener(r.mouseEvent.PLAY_ROLL_ANI_END,this.stopRollAni,this)},a([u(cc.Label)],t.prototype,"test",void 0),a([u(cc.Label)],t.prototype,"test2",void 0),a([p],t)}(c.default);n.default=h,cc._RF.pop()},{"../GameEventName111000901":"GameEventName111000901","../tool/Tool":"Tool","./mouseBase":"mouseBase"}],freeAddTimeNodeCtrl:[function(e,t,n){"use strict";cc._RF.push(t,"4ff9dC1FLtFNJ5NeslxelzP","freeAddTimeNodeCtrl");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.spriteFrame=[],t.sprite=null,t}return i(t,e),t.prototype.start=function(){},t.prototype.changeNodeSpritFrame=function(e){this.sprite.spriteFrame=this.spriteFrame[Number(e)-1]},a([c([cc.SpriteFrame])],t.prototype,"spriteFrame",void 0),a([c(cc.Sprite)],t.prototype,"sprite",void 0),a([s],t)}(cc.Component);n.default=l,cc._RF.pop()},{}],horseLightCtrl:[function(e,t,n){"use strict";cc._RF.push(t,"a5d20hMnnpHCLmAKZF42eV3","horseLightCtrl");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../GameEventName111000901"),s=e("../tool/Tool"),c=cc._decorator,l=c.ccclass,p=c.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.zh=[],t.en=[],t.pt=[],t.startPos=cc.v2(0,0),t.randomNumberCtrl=null,t.chooseLanguageSp=null,t.interval=0,t}return i(t,e),t.prototype.onLoad=function(){switch(slot.GData.curLanguage){case"zh":this.chooseLanguageSp=this.zh;break;case"en":this.chooseLanguageSp=this.en;break;case"pt":this.chooseLanguageSp=this.pt;break;default:this.chooseLanguageSp=this.en}this.startPos=cc.v2(this.node.x,this.node.y)},t.prototype.start=function(){game.EventManager.getInstance().addEventListener(r.mouseEvent.ROLL_ANI_START,this.rollStartHorst,this),game.EventManager.getInstance().addEventListener(r.mouseEvent.FREE_GAME_ADD_TIME,this.horstActive,this),game.EventManager.getInstance().addEventListener(r.mouseEvent.ROLL_END_CALL_BACK,this.rollStop,this),this.horseLightCtrl()},t.prototype.rollStartHorst=function(){},t.prototype.horstActive=function(e,t){this.randomNumberCtrl=t,this.interval=s.default.getNowTime()+8e3,this.horseLightCtrl()},t.prototype.rollStop=function(){this.randomNumberCtrl=null},t.prototype.horseLightCtrl=function(){this.node.setPosition(this.startPos);var e=slot.MathUtil.getRandomRange(0,3,!0);null!=this.randomNumberCtrl&&(e=this.randomNumberCtrl),this.node.getComponent(cc.Sprite).spriteFrame=this.chooseLanguageSp[e],this.node.stopAllActions(),e>=2&&e<=3&&this.horseLightAni()},t.prototype.horseLightAni=function(){this.node.x+=50,this.node.stopAllActions();var e=cc.delayTime(2),t=cc.moveBy(5,cc.v2(-800,0)),n=cc.callFunc(function(){}.bind(this));this.node.runAction(cc.sequence(e,t,n))},t.prototype.onDestroy=function(){game.EventManager.getInstance().removeEventListener(r.mouseEvent.ROLL_ANI_START,this.rollStartHorst,this),game.EventManager.getInstance().removeEventListener(r.mouseEvent.FREE_GAME_ADD_TIME,this.horstActive,this),game.EventManager.getInstance().addEventListener(r.mouseEvent.ROLL_END_CALL_BACK,this.rollStop,this)},t.prototype.update=function(){s.default.isPastTime(this.interval)&&(this.interval=s.default.getNowTime()+8e3,this.horseLightCtrl())},a([p([cc.SpriteFrame])],t.prototype,"zh",void 0),a([p([cc.SpriteFrame])],t.prototype,"en",void 0),a([p([cc.SpriteFrame])],t.prototype,"pt",void 0),a([l],t)}(cc.Component);n.default=u,cc._RF.pop()},{"../GameEventName111000901":"GameEventName111000901","../tool/Tool":"Tool"}],lightFrameCtrl:[function(e,t,n){"use strict";cc._RF.push(t,"d516cDkCGdOpbn7UcAm5/X6","lightFrameCtrl");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../GameEventName111000901"),s=cc._decorator,c=s.ccclass,l=(s.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.onLoad=function(){game.EventManager.getInstance().addEventListener(r.mouseEvent.PLAY_BURST_ANI_BEGAN,this.setLightOpacity,this)},t.prototype.start=function(){},t.prototype.setLightOpacity=function(){this.node.opacity=0},t.prototype.onDestroy=function(){},t.prototype.update=function(){game.EventManager.getInstance().addEventListener(r.mouseEvent.PLAY_BURST_ANI_BEGAN,this.setLightOpacity,this)},a([c],t)}(cc.Component));n.default=l,cc._RF.pop()},{"../GameEventName111000901":"GameEventName111000901"}],lineNodeCtrl:[function(e,t,n){"use strict";cc._RF.push(t,"964970RvfNK8Jmxh5HnMsH8","lineNodeCtrl");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../GameEventName111000901"),s=cc._decorator,c=s.ccclass,l=(s.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.start=function(){game.EventManager.getInstance().addEventListener(r.mouseEvent.ANIMATION_STOP_CALL_BACK,this.lineNodeCtrl,this)},t.prototype.lineNodeCtrl=function(){this.node.children.forEach(function(e){e.opacity=0})},t.prototype.onDestroy=function(){game.EventManager.getInstance().removeEventListener(r.mouseEvent.ANIMATION_STOP_CALL_BACK,this.lineNodeCtrl,this)},a([c],t)}(cc.Component));n.default=l,cc._RF.pop()},{"../GameEventName111000901":"GameEventName111000901"}],mouseBase:[function(e,t,n){"use strict";cc._RF.push(t,"30983zTFThPQZi6x0pI3ou9","mouseBase");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../GameEventName111000901"),s=cc._decorator,c=s.ccclass,l=s.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mouse=null,t.wild_move=null,t.light=null,t.wild_win=null,t.wild_win_front=null,t.mouseSkeleton=null,t.currentPos=0,t.currentRewardPos=0,t.rate=0,t.fastBtnState=2,t}return i(t,e),t.prototype.onLoad=function(){"zh"!=slot.GData.curLanguage&&(this.mouse.getComponent(sp.Skeleton).skeletonData=this.mouseSkeleton)},t.prototype.start=function(){},t.prototype.mouseMove=function(e,t,n,o,i){void 0===t&&(t=null),void 0===n&&(n=null),void 0===o&&(o=null),void 0===i&&(i=null);var a=slot.SlotMachineView.instance.getPosByIndex(e-1);if(a)if(1==this.fastBtnState)this.node.setPosition(a),game.EventManager.getInstance().raiseEvent(r.mouseEvent.MOUSE_BIG_MOVE_END),this.mouseSpineCtrl("idle",!1);else{"function"==typeof t&&t(),this.currentPos=e,this.currentRewardPos=e;var s=this.getAllCellNumber(Math.abs(a.x-this.node.x),Math.abs(a.y-this.node.y)),c=cc.delayTime(1),l=cc.callFunc(function(){"function"==typeof o&&o(s)}.bind(this)),p=cc.moveBy(this.getTimeByRate(Math.abs(a.x-this.node.x)),cc.v2(a.x-this.node.x,0)),u=cc.moveBy(this.getTimeByRate(Math.abs(a.y-this.node.y)),cc.v2(0,a.y-this.node.y)),h=cc.callFunc(function(){"function"==typeof n&&n()}.bind(this));this.node.runAction(cc.sequence(c,l,p,u,h))}else"function"==typeof t&&t(),console.error("ywb\u670d\u52a1\u7aef\u6570\u636e\u5f02\u5e38",e,a)},t.prototype.mouseLightSpineCtrl=function(e,t){var n=this;void 0===t&&(t=null);var o=this.light.getComponent(sp.Skeleton);this.light.active=!0,o.setAnimation(0,"wild_move_front",e),o.setCompleteListener(function(){n.light.active=!1,"function"==typeof t&&t()})},t.prototype.mouseBgSpineCtrl=function(e,t){var n=this,o=this.wild_move.getComponent(sp.Skeleton);this.wild_move.active=!0,o.setAnimation(0,e,t),o.setCompleteListener(function(){n.wild_move.active=!1})},t.prototype.mouseBgRotateSpineCtrl=function(e,t,n){void 0===n&&(n=null);var o=this.wild_win.getComponent(sp.Skeleton);this.wild_win.active=!0,o.setAnimation(0,e,t),o.setCompleteListener(function(){"function"==typeof n&&n()})},t.prototype.mouseBigPlistSpineCtrl=function(e,t,n){void 0===n&&(n=null);var o=this.wild_win_front.getComponent(sp.Skeleton);this.wild_win_front.active=!0,o.setAnimation(0,e,t),o.setCompleteListener(function(){"function"==typeof n&&n()})},t.prototype.mouseSpineCtrl=function(e,t,n){void 0===n&&(n=null);var o=this.mouse.getComponent(sp.Skeleton);o.setAnimation(0,e,t),o.setCompleteListener(function(){"function"==typeof n&&n()})},t.prototype.scaleAnimation=function(){var e=cc.scaleTo(.4,1.1),t=cc.scaleTo(.4,1),n=cc.sequence(e,t);this.mouse.runAction(cc.repeatForever(n))},t.prototype.stopScaleAnimation=function(){this.mouse.stopAllActions(),this.mouse.scale=1},t.prototype.getTimeByRate=function(e){return e/this.rate},t.prototype.getAllCellNumber=function(e,t){var n=e+t,o=Math.floor(n/106);return[o,this.getTimeByRate(n)/o]},t.prototype.onDestroy=function(){game.EventManager.getInstance().removeEventListener(r.mouseEvent.ROLL_ANI_END,this.rollAniEnd,this)},a([l(cc.Node)],t.prototype,"mouse",void 0),a([l(cc.Node)],t.prototype,"wild_move",void 0),a([l(cc.Node)],t.prototype,"light",void 0),a([l(cc.Node)],t.prototype,"wild_win",void 0),a([l(cc.Node)],t.prototype,"wild_win_front",void 0),a([l(sp.SkeletonData)],t.prototype,"mouseSkeleton",void 0),a([c],t)}(cc.Component);n.default=p,cc._RF.pop()},{"../GameEventName111000901":"GameEventName111000901"}],mouseCtrl:[function(e,t,n){"use strict";cc._RF.push(t,"f9852Dsc3FNToYg37MLc14i","mouseCtrl");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../GameEventName111000901"),s=e("../tool/Tool"),c=e("./mouseBase"),l=cc._decorator,p=l.ccclass,u=l.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.baiDaLight=null,t.test=null,t.takeDataBool=!0,t.targetPos=null,t.isInRollSpeed=!1,t}return i(t,e),t.prototype.start=function(){game.EventManager.getInstance().addEventListener(r.mouseEvent.MOUSE_MOVE_POS,this.rollStartMouseMove,this),game.EventManager.getInstance().addEventListener(r.mouseEvent.INIT_MOUSE_MOVE_POS,this.initMouseCurrentPos,this),game.EventManager.getInstance().addEventListener(r.mouseEvent.INIT_MOUSE_MOVE_POS_REWARD,this.initMouseCurrentPosReward,this),game.EventManager.getInstance().addEventListener(r.mouseEvent.CLEAR_MOUSE_MOVE,this.clearMouseMove,this),game.EventManager.getInstance().addEventListener(r.mouseEvent.GET_REWARD_BEGAN,this.checkIsPrizeAndPlayAni,this),game.EventManager.getInstance().addEventListener(r.mouseEvent.GET_FREE_REWARD_BEGAN_MOUSE_BG,this.playInFreeAni,this),game.EventManager.getInstance().addEventListener(r.mouseEvent.ROLL_ANI_START_WHO,this.playRollAniEvent,this),game.EventManager.getInstance().addEventListener(r.mouseEvent.ROLL_ANI_END,this.rollAniEnd,this),game.EventManager.getInstance().addEventListener(r.mouseEvent.PLAY_ROLL_ANI_BEGAN,this.playRollAni,this),game.EventManager.getInstance().addEventListener(r.mouseEvent.PLAY_ROLL_ANI_END,this.stopRollAni,this),game.EventManager.getInstance().addEventListener(r.mouseEvent.NOT_HAVE_MONY_OPEN_ROLL,this.notHaveMonyRun,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_GOLDNOTENOUGH_OKBTN,this.btnCloseCallBack,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_STOP_SLOT_MACHINE_IMMEDIATELY,this.event_stop_slot_machine_immediately,this)},t.prototype.initMouseCurrentPos=function(e,t){this.currentPos=t},t.prototype.initMouseCurrentPosReward=function(e,t){this.currentRewardPos=t},t.prototype.playRollAniEvent=function(e,t){t>s.default.getLineNumberByPos(this.currentPos)&&!this.isInRollSpeed&&(this.playRollAni(),this.isInRollSpeed=!0),this.currentPos},t.prototype.playRollAni=function(){this.mouseBgRotateSpineCtrl("animation_back_loop",!0),this.mouseBigPlistSpineCtrl("animation_front_loop",!0),this.scaleAnimation()},t.prototype.stopRollAni=function(){this.stopScaleAnimation(),this.wild_win.active=!1,this.wild_win_front.active=!1},t.prototype.notHaveMonyRun=function(){this.node.stopAllActions(),this.rate=300;var e=!0,t=slot.SlotMachineView.instance.getPosByIndex(0),n=this.getTimeByRate(Math.abs(t.x-this.node.x))+this.getTimeByRate(Math.abs(t.y-this.node.y)),o=cc.delayTime(n+.4),i=cc.delayTime(2.2),a=cc.delayTime(2.2),r=cc.delayTime(2.2),s=cc.callFunc(function(){var t=this;this.baseMouseMove(1,function(){e&&(e=!1,t.wild_move.active=!0,t.baiDaLight.active=!0,t.mouseSpineCtrl("burrow_start",!1),t.mouseBgSpineCtrl("wild_fastmove_back",!1))})}.bind(this)),c=cc.callFunc(function(){this.moveToAct(7)}.bind(this)),l=cc.callFunc(function(){this.moveToAct(49)}.bind(this)),p=cc.callFunc(function(){this.moveToAct(43)}.bind(this)),u=cc.sequence(s,o,c,i,l,a,p,r);this.node.runAction(cc.repeatForever(u))},t.prototype.moveToAct=function(e){var t=slot.SlotMachineView.instance.getPosByIndex(e-1),n=cc.moveTo(2.12,cc.v2(t.x,t.y));this.node.runAction(n)},t.prototype.baseMouseMove=function(e,t,n){var o=this;void 0===t&&(t=null),void 0===n&&(n=null),this.mouseMove(e,function(){"function"==typeof t&&t()},function(){"function"==typeof n&&n()},function(e){for(var t=function(t){var n=cc.delayTime(e[1]+t*e[1]),i=cc.callFunc(function(){this.mouseBgSpineCtrl("wild_fastmove_back",!1),t==e[0]-1&&(this.wild_move.active=!1)}.bind(o));o.node.runAction(cc.sequence(n,i))},n=0;n<e[0];n++)t(n)})},t.prototype.btnCloseCallBack=function(){var e=this;this.baseMouseMove(25,function(){e.node.stopAllActions()},function(){e.baiDaLight.active=!1,e.mouseLightSpineCtrl(!1),e.mouseSpineCtrl("burrow_exit",!1),game.EventManager.getInstance().raiseEvent(r.mouseEvent.MOUSE_BIG_MOVE_END)})},t.prototype.rollAniEnd=function(){this.stopScaleAnimation(),this.wild_win_front.active=!1,this.wild_win.active=!1,this.isInRollSpeed=!1},t.prototype.checkIsPrizeAndPlayAni=function(){var e=this;if(this.getMoveDataArrByResp(s.default.totalEliminateTime,9)!=this.currentRewardPos){var t=0;this.mouseSpineCtrl("win",!1,function(){if(0==t){var n=cc.delayTime(.2),o=cc.callFunc(function(){this.mouseSpineCtrl("win",!1),t++}.bind(e));e.mouse.runAction(cc.sequence(n,o))}})}},t.prototype.event_stop_slot_machine_immediately=function(){this.node.stopAllActions(),this.stopScaleAnimation(),this.wild_move.active=!1,this.baiDaLight.active=!1,game.EventManager.getInstance().raiseEvent(r.mouseEvent.MOUSE_BIG_MOVE_END);var e=slot.SlotMachineView.instance.getPosByIndex(this.targetPos-1);this.node.setPosition(e),this.rollAniEnd(),this.mouseSpineCtrl("idle",!1)},t.prototype.playInFreeAni=function(){var e=this;this.mouseBgRotateSpineCtrl("animation_back",!1,function(){e.wild_win.active=!1}),this.mouseBigPlistSpineCtrl("animation_front",!1,function(){e.wild_win_front.active=!1})},t.prototype.rollStartMouseMove=function(){var e=this,t=0;if(1==s.default.respData.state){for(var n=s.default.respData.updateList[0].value.handleState.game_10017.data.fixedGophersGrid,o=0;o<n.length;o++){var i=n[o];9==i.elem&&(t=i.pos)}this.mouseMoveInNormal(t)}else this.clearMouseMove("\u514d\u8d39\u79fb\u52a8",s.default.totalEliminateTime,function(){},function(){var t=cc.delayTime(.2),n=cc.callFunc(function(){game.EventManager.getInstance().raiseEvent(r.mouseEvent.MOUSE_BIG_MOVE_END)}.bind(e));e.node.runAction(cc.sequence(t,n))},!0)},t.prototype.mouseMoveInNormal=function(e){var t=this;this.rate=300,this.fastBtnState=slot.GameControlBase.instance.fastBtnState;var n=!1;this.targetPos=e,e==this.currentPos&&(n=!0),this.mouseMove(e,function(){t.node.stopAllActions(),t.wild_move.active=!0,t.baiDaLight.active=!0,t.mouseSpineCtrl("burrow_start",!1),t.mouseBgSpineCtrl("wild_fastmove_back",!1)},function(){if(n){var o,i=slot.MathUtil.getRandomRange(1,e-1,!0),a=slot.MathUtil.getRandomRange(e+1,49,!0);o=i==e?a:i,t.mouseMove(o,function(){},function(){t.mouseMove(e,function(){},function(){game.EventManager.getInstance().raiseEvent(r.mouseEvent.MOUSE_BIG_MOVE_END),t.baiDaLight.active=!1,t.mouseLightSpineCtrl(!1),t.mouseSpineCtrl("burrow_exit",!1)},function(e){for(var n=function(n){var o=cc.delayTime(e[1]+n*e[1]),i=cc.callFunc(function(){this.mouseBgSpineCtrl("wild_fastmove_back",!1),n==e[0]-1&&(this.wild_move.active=!1)}.bind(t));t.node.runAction(cc.sequence(o,i))},o=0;o<e[0];o++)n(o)})},function(e){for(var n=function(n){var o=cc.delayTime(e[1]+n*e[1]),i=cc.callFunc(function(){this.mouseBgSpineCtrl("wild_fastmove_back",!1),n==e[0]-1&&(this.wild_move.active=!1)}.bind(t));t.node.runAction(cc.sequence(o,i))},o=0;o<e[0];o++)n(o)})}else game.EventManager.getInstance().raiseEvent(r.mouseEvent.MOUSE_BIG_MOVE_END),t.baiDaLight.active=!1,t.mouseLightSpineCtrl(!1),t.mouseSpineCtrl("burrow_exit",!1)},function(e){for(var n=function(n){var o=cc.delayTime(e[1]+n*e[1]),i=cc.callFunc(function(){this.mouseBgSpineCtrl("wild_fastmove_back",!1),n==e[0]-1&&(this.wild_move.active=!1)}.bind(t));t.node.runAction(cc.sequence(o,i))},o=0;o<e[0];o++)n(o)})},t.prototype.clearMouseMove=function(e,t,n,o,i){var a=this;void 0===n&&(n=null),void 0===o&&(o=null),void 0===i&&(i=null),this.rate=500,this.fastBtnState=2;var c;c=i?this.getMoveDataArrByRespForFree(t,9):this.getMoveDataArrByResp(t,9),this.mouseMove(c,function(){"function"==typeof n&&n()},function(){var e=cc.delayTime(0),t=cc.delayTime(.2),n=cc.callFunc(function(){this.mouseLightSpineCtrl(!1),this.mouseBgSpineCtrl("wild_move_back",!1)}.bind(a)),i=cc.callFunc(function(){game.EventManager.getInstance().raiseEvent(r.mouseEvent.MOUSE_MOVE_END)}.bind(a));"function"==typeof o&&o(),a.node.runAction(cc.sequence(e,n,t,i))},function(e){s.default.addClearBgLight(c-1);for(var t=0;t<e[0];t++){var n=cc.delayTime(e[1]+t*e[1]),o=cc.callFunc(function(){slot.SoundMger.instance.playEffect(r.SOUND_NAME.Role_Win_Move,!1)}.bind(a));a.node.runAction(cc.sequence(n,o))}})},t.prototype.assignmentCellData=function(){if(this.takeDataBool){var e=slot.SlotMachineView.instance.scroller.getRenderByIndex(1);this.cellHight=e.height,this.cellWidth=e.width,this.takeDataBool=!1}},t.prototype.getMoveDataArrByResp=function(e,t){for(var n=null,o=s.default.respData.updateList[0].value.handleState.game_10017.data.resultList[e].crushMoveGrid,i=0;i<o.length;i++)if(o[i].elem==t){n=o[i].pos;break}return n},t.prototype.getMoveDataArrByRespForFree=function(e,t){for(var n=s.default.respData.updateList[0].value.handleState.game_10017.data.fixedGophersGrid,o=null,i=0;i<n.length;i++)if(n[i].elem==t){o=n[i].pos,this.test.string=String(i);break}return o},t.prototype.onDestroy=function(){game.EventManager.getInstance().removeEventListener(r.mouseEvent.MOUSE_MOVE_POS,this.rollStartMouseMove,this),game.EventManager.getInstance().removeEventListener(r.mouseEvent.INIT_MOUSE_MOVE_POS_REWARD,this.initMouseCurrentPosReward,this),game.EventManager.getInstance().removeEventListener(r.mouseEvent.INIT_MOUSE_MOVE_POS,this.initMouseCurrentPos,this),game.EventManager.getInstance().removeEventListener(r.mouseEvent.CLEAR_MOUSE_MOVE,this.clearMouseMove,this),game.EventManager.getInstance().removeEventListener(r.mouseEvent.GET_REWARD_BEGAN,this.checkIsPrizeAndPlayAni,this),game.EventManager.getInstance().removeEventListener(r.mouseEvent.GET_FREE_REWARD_BEGAN_MOUSE_BG,this.playInFreeAni,this),game.EventManager.getInstance().removeEventListener(r.mouseEvent.ROLL_ANI_START_WHO,this.playRollAniEvent,this),game.EventManager.getInstance().removeEventListener(r.mouseEvent.ROLL_ANI_END,this.rollAniEnd,this),game.EventManager.getInstance().removeEventListener(r.mouseEvent.PLAY_ROLL_ANI_BEGAN,this.playRollAni,this),game.EventManager.getInstance().removeEventListener(r.mouseEvent.PLAY_ROLL_ANI_END,this.stopRollAni,this),game.EventManager.getInstance().removeEventListener(r.mouseEvent.NOT_HAVE_MONY_OPEN_ROLL,this.notHaveMonyRun,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_GOLDNOTENOUGH_OKBTN,this.btnCloseCallBack,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_STOP_SLOT_MACHINE_IMMEDIATELY,this.event_stop_slot_machine_immediately,this)},a([u(cc.Node)],t.prototype,"baiDaLight",void 0),a([u(cc.Label)],t.prototype,"test",void 0),a([p],t)}(c.default);n.default=h,cc._RF.pop()},{"../GameEventName111000901":"GameEventName111000901","../tool/Tool":"Tool","./mouseBase":"mouseBase"}],poolManager:[function(e,t,n){"use strict";cc._RF.push(t,"6f3d51OjCNNfKf+mCp7x7DU","poolManager");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../item/bulletChatCtrl"),s=cc._decorator,c=s.ccclass,l=(s.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.enemyPool=new cc.NodePool,t.bulletChat=null,t}var n;return i(t,e),n=t,t.getInstance=function(){return null==this.inst&&(this.inst=new n),this.inst},t.prototype.initPool=function(e){this.bulletChat=e;for(var t=0;t<20;++t){var n=cc.instantiate(e);this.enemyPool.put(n)}},t.prototype.createEnemy=function(e,t,n,o){void 0===o&&(o=null);var i=null;(i=this.enemyPool.size()>0?this.enemyPool.get():cc.instantiate(this.bulletChat)).parent=e,i.getComponent(r.default).init(t,n,o)},t.prototype.onEnemyKilled=function(e){this.enemyPool.put(e)},t.inst=null,n=a([c],t)}(cc.Component));n.default=l,cc._RF.pop()},{"../item/bulletChatCtrl":"bulletChatCtrl"}],test:[function(e,t,n){"use strict";cc._RF.push(t,"e2cfdqRi7RPVoO6BRrRZHNa","test");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.prefab=null,t.spF=null,t.node_cocos=null,t}return i(t,e),t.prototype.start=function(){},t.prototype.btn=function(){this.node_cocos.x=-500,this.node_cocos.getComponent(cc.Sprite).spriteFrame=this.spF,this.putNodeToPlayAction(this.node_cocos)},t.prototype.btn2=function(){},t.prototype.putNodeToPlayAction=function(e){var t=cc.moveTo(2,cc.v2(1e3,0)),n=cc.moveTo(2,cc.v2(-100,0)),o=cc.sequence(t,n);e.runAction(o)},t.checkOneDataWithSelfLine=function(e,t){var n=this,o=[!1,!1,!1,!1],i=[];t.forEach(function(t){var i=t;e+7===i?o[2]=!0:e-7===i?o[1]=!0:e-1===i&&n.otherTwoDataHandle(e)?o[0]=!0:e+1===i&&n.otherOneDataHandle(e)&&(o[3]=!0)});var a=slot.SlotMachineView.instance.scroller.getRenderByIndex(e);return i.push(a),o[0]?o[3]||(o[1]||o[2]?(o[1]||i.push("downLeft"),o[2]||i.push("downRight")):i.push("specialDownRight","specialDownLeft")):o[1]||o[2]?(!o[1]&&o[3]?i.push("topLeft"):o[1]||o[3]||i.push("specialTopLeft2","specialDownLeft2"),!o[2]&&o[3]?i.push("topRight"):o[2]||o[3]||i.push("specialTopRight2","specialDownRight2")):i.push("specialTopLeft","specialTopRight"),o[0]||o[1]&&o[2]&&i.push("top"),o[3]||o[1]&&o[2]&&i.push("down"),o[0]&&o[3]&&(o[1]||i.push("left"),o[2]||i.push("right")),i},a([c(cc.Prefab)],t.prototype,"prefab",void 0),a([c(cc.SpriteFrame)],t.prototype,"spF",void 0),a([c(cc.Node)],t.prototype,"node_cocos",void 0),a([s],t)}(cc.Component);n.default=l,cc._RF.pop()},{}]},{},["ParticleSpriteFramesRefresh","Banner111000901","GameEventName111000901","NumAtlasLabel111000901","BonusGame111000901","FreeGameResult","GameBg111000901","bulletChatCtrl","CommonNumAtlas111000901","LanguageInfo111000901","LanguageInfoTest","Main111000901","Adaptive111000901","GameLayer111000901","GameRoller111000901","SpinSlotViewExtend111000901","_slotFrameAniViewNodeCtrl","boardCtrl","coreCote","femaleMouseCtrl","freeAddTimeNodeCtrl","horseLightCtrl","lineNodeCtrl","mouseBase","mouseCtrl","Cannon","JTChildManager111000901","JTLayerManager111000901","JTLogicFactroy111000901","JTTest111000901","test","Tool","animationCallBack","bulletChatManager","lightFrameCtrl","poolManager"]);